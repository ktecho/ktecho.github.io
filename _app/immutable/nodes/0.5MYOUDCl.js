import{g as Ln,f as Zr,e as qt,u as Pn,a as Vn,N as Ot,b as st,h as hr,s as ur,c as Bn,n as Tn,d as gn,t as Dn,i as zt,j as Ms,k as Fr,l as As,m as Hn,p as $e,o as jn,q as _n,r as On,v as vn,w as zn,x as Rr,S as Un,y as qn,B as Fn,z as Ns,A as Rn,I as Ss,E as Ls,C as Kn,D as Ps,F as Wn,G as Gn}from"../chunks/utils.FkBaGfnY.js";import{r as B,u as Zn,v as Vs,w as Kr,s as le,e as nt,i as A,d as c,x as bn,y as X,o as Bt,f as g,a as S,g as _,h as b,c as L,j as l,k as Ut,z as f,A as wn,B as kn,C as $n,D as yn,E as En,q as mr,F as Q,G as J,H as Qn,I as Yn,l as F,m as R,J as wt,K as Ft,L as Vt,M as Be,N as ce,n as Rt,O as Wr,P as ee,Q as te,R as Bs,S as Jn,p as Xn,T as el}from"../chunks/scheduler.2vmdsppc.js";import{n as tl,l as rl,f as sl,h as nl,S as ae,i as ie,a as M,g as Ee,c as xe,t as P,j as ll,k as al,b as T,d as j,m as D,e as H}from"../chunks/index.eLAHt3dB.js";import{w as il}from"../chunks/singletons.PqOxICUJ.js";import{c as ol,f as cl,a as ul}from"../chunks/index.QlrTg0iE.js";import{p as Qr}from"../chunks/stores._GSMfgpH.js";import{P as fl,A as Yr}from"../chunks/PrivateKeyInfo.crg3tdN3.js";import{s as dl,g as hl,a as ml}from"../chunks/CurrencyConverter.JjeTDkRk.js";import{S as pl}from"../chunks/ShoppingCart.zvU4lHiI.js";import{E as gl}from"../chunks/Email.iMOOqnwW.js";import{p as Ts}from"../chunks/profile_picture_placeholder.0d-yZyxG.js";import{S as xn}from"../chunks/Store.CEFXwr6Z.js";import{N as _l}from"../chunks/ShippingOptions.5yoMSw42.js";import{T as vl,a as bl,G as wl}from"../chunks/Github.tAPxVNQX.js";import{r as kl,a as $l}from"../chunks/shopping.HYDPEdxb.js";function yl(n,e,t,r){if(!e)return B;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return B;const{delay:a=0,duration:i=300,easing:d=Zn,start:u=tl()+a,end:p=u+i,tick:h=B,css:m}=t(n,{from:e,to:s},r);let o=!0,$=!1,w;function v(){m&&(w=sl(n,0,1,i,a,d,m)),a||($=!0)}function k(){m&&nl(n,w),o=!1}return rl(y=>{if(!$&&y>=u&&($=!0),$&&y>=p&&(h(1,0),k()),!o)return!1;if($){const C=y-u,E=0+1*d(C/i);h(E,1-E)}return!0}),v(),h(0,1),k}function El(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Cn(n,s)}}function Cn(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}const xl=!0;async function Cl(){let n=await Ln()??{};Object.prototype.hasOwnProperty.call(n,"backend_present")||(n.backend_present=!0),Zr.set(n)}Cl().catch(n=>console.log("Error while trying to load config from file:",n));const wi=Object.freeze(Object.defineProperty({__proto__:null,prerender:xl},Symbol.toStringTag,{value:"Module"}));function Il(n=[]){const e=il(n),{set:t,update:r,subscribe:s}=e;let a={duration:3e3,placement:"bottom-right",type:"info",theme:"dark"};function i(m){const{duration:o=3e3,placement:$="bottom-right",type:w="info",theme:v="dark",...k}={...a,...m},y=Date.now(),C={...k,uid:y,placement:$,type:w,theme:v,duration:o,remove:()=>{r(E=>E.filter(x=>x.uid!==y))},update:E=>{delete E.uid;const x=Vs(e)?.findIndex(I=>I?.uid===y);x>-1&&r(I=>[...I.slice(0,x),{...I[x],...E},...I.slice(x+1)])}};return r(E=>[...E,C]),o>0&&setTimeout(()=>{C.remove(),typeof C.onRemove=="function"&&C.onRemove()},o),C}function d(m){return Vs(e)?.find(o=>o?.uid===m)}function u(){t([])}function p(){r(m=>m.slice(0,m.length-1))}function h(m){a={...a,...m}}return{subscribe:s,add:i,success:fr("success",i),info:fr("info",i),error:fr("error",i),warning:fr("warning",i),clearAll:u,clearLast:p,getById:d,setDefaults:h}}const pr=Il([]);function fr(n,e){return function(){if(typeof arguments[0]=="object"){const t=arguments[0];return e({...t,type:n})}else if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){const t=arguments[2]||{};return e({...t,type:n,title:arguments[0],description:arguments[1]})}else if(typeof arguments[0]=="string"){const t=arguments[1]||{};return e({...t,type:n,description:arguments[0]})}}}function Ml(n,{from:e,to:t},r={}){const s=getComputedStyle(n),a=s.transform==="none"?"":s.transform,[i,d]=s.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*i/t.width-(t.left+i),p=e.top+e.height*d/t.height-(t.top+d),{delay:h=0,duration:m=$=>Math.sqrt($)*120,easing:o=ol}=r;return{delay:h,duration:Kr(m)?m(Math.sqrt(u*u+p*p)):m,easing:o,css:($,w)=>{const v=w*u,k=w*p,y=$+w*e.width/t.width,C=$+w*e.height/t.height;return`transform: ${a} translate(${v}px, ${k}px) scale(${y}, ${C});`}}}function Ds(n,e,t){const r=n.slice();return r[1]=e[t],r}function Hs(n,e,t){const r=n.slice();return r[14]=e[t],r}const Al=n=>({data:n&4}),js=n=>({data:n[14]});function Nl(n){let e;const t=n[10].default,r=kn(t,n,n[9],js);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),e=!0},p(s,a){r&&r.p&&(!e||a&516)&&$n(r,t,s,s[9],e?En(t,s[9],a,Al):yn(s[9]),js)},i(s){e||(M(r,s),e=!0)},o(s){P(r,s),e=!1},d(s){r&&r.d(s)}}}function Sl(n){let e,t,r;var s=n[14].component;function a(i,d){return{props:{data:i[14]}}}return s&&(e=mr(s,a(n))),{c(){e&&T(e.$$.fragment),t=nt()},l(i){e&&j(e.$$.fragment,i),t=nt()},m(i,d){e&&D(e,i,d),A(i,t,d),r=!0},p(i,d){if(d&4&&s!==(s=i[14].component)){if(e){Ee();const u=e;P(u.$$.fragment,1,0,()=>{H(u,1)}),xe()}s?(e=mr(s,a(i)),T(e.$$.fragment),M(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const u={};d&4&&(u.data=i[14]),e.$set(u)}},i(i){r||(e&&M(e.$$.fragment,i),r=!0)},o(i){e&&P(e.$$.fragment,i),r=!1},d(i){i&&c(t),e&&H(e,i)}}}function Os(n,e){let t,r,s,a,i,d,u,p=B,h;const m=[Sl,Nl],o=[];function $(w,v){return w[14].component?0:1}return r=$(e),s=o[r]=m[r](e),{key:n,first:null,c(){t=g("li"),s.c(),a=S(),this.h()},l(w){t=_(w,"LI",{class:!0});var v=b(t);s.l(v),a=L(v),v.forEach(c),this.h()},h(){l(t,"class","svelte-s8abgz"),this.first=t},m(w,v){A(w,t,v),o[r].m(t,null),f(t,a),h=!0},p(w,v){e=w;let k=r;r=$(e),r===k?o[r].p(e,v):(Ee(),P(o[k],1,1,()=>{o[k]=null}),xe(),s=o[r],s?s.p(e,v):(s=o[r]=m[r](e),s.c()),M(s,1),s.m(t,a))},r(){u=t.getBoundingClientRect()},f(){El(t),p(),Cn(t,u)},a(){p(),p=yl(t,u,Ml,{})},i(w){h||(M(s),w&&wn(()=>{h&&(d&&d.end(1),i=ll(t,ul,{duration:500}),i.start())}),h=!0)},o(w){P(s),i&&i.invalidate(),w&&(d=al(t,cl,{y:e[4][e[14].placement],duration:1e3})),h=!1},d(w){w&&c(t),o[r].d(),w&&d&&d.end()}}}function zs(n){let e,t,r=[],s=new Map,a,i;function d(...h){return n[11](n[1],...h)}let u=qt(n[2].filter(d).reverse());const p=h=>h[14].uid;for(let h=0;h<u.length;h+=1){let m=Hs(n,u,h),o=p(m);s.set(o,r[h]=Os(o,m))}return{c(){e=g("div"),t=g("ul");for(let h=0;h<r.length;h+=1)r[h].c();a=S(),this.h()},l(h){e=_(h,"DIV",{class:!0,style:!0});var m=b(e);t=_(m,"UL",{class:!0});var o=b(t);for(let $=0;$<r.length;$+=1)r[$].l(o);o.forEach(c),a=L(m),m.forEach(c),this.h()},h(){l(t,"class","svelte-s8abgz"),l(e,"class","toast-container "+n[1]+" svelte-s8abgz"),Ut(e,"width",n[0])},m(h,m){A(h,e,m),f(e,t);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null);f(e,a),i=!0},p(h,m){if(n=h,m&540){u=qt(n[2].filter(d).reverse()),Ee();for(let o=0;o<r.length;o+=1)r[o].r();r=Pn(r,m,p,1,n,u,s,t,Vn,Os,null,Hs);for(let o=0;o<r.length;o+=1)r[o].a();xe()}(!i||m&1)&&Ut(e,"width",n[0])},i(h){if(!i){for(let m=0;m<u.length;m+=1)M(r[m]);i=!0}},o(h){for(let m=0;m<r.length;m+=1)P(r[m]);i=!1},d(h){h&&c(e);for(let m=0;m<r.length;m+=1)r[m].d()}}}function Ll(n){let e,t,r=qt(n[3]),s=[];for(let i=0;i<r.length;i+=1)s[i]=zs(Ds(n,r,i));const a=i=>P(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=nt()},l(i){for(let d=0;d<s.length;d+=1)s[d].l(i);e=nt()},m(i,d){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,d);A(i,e,d),t=!0},p(i,[d]){if(d&541){r=qt(i[3]);let u;for(u=0;u<r.length;u+=1){const p=Ds(i,r,u);s[u]?(s[u].p(p,d),M(s[u],1)):(s[u]=zs(p),s[u].c(),M(s[u],1),s[u].m(e.parentNode,e))}for(Ee(),u=r.length;u<s.length;u+=1)a(u);xe()}},i(i){if(!t){for(let d=0;d<r.length;d+=1)M(s[d]);t=!0}},o(i){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)P(s[d]);t=!1},d(i){i&&c(e),bn(s,i)}}}function Pl(n,e,t){let r;X(n,pr,v=>t(2,r=v));let{$$slots:s={},$$scope:a}=e,{theme:i="dark"}=e,{placement:d="bottom-right"}=e,{type:u="info"}=e,{showProgress:p=!1}=e,{duration:h=3e3}=e,{width:m="320px"}=e;const o=["bottom-right","bottom-left","top-right","top-left","top-center","bottom-center","center-center"],$={"bottom-right":400,"top-right":-400,"bottom-left":400,"top-left":-400,"bottom-center":400,"top-center":-400,"center-center":-800};Bt(()=>{pr.setDefaults({placement:d,showProgress:p,theme:i,duration:h,type:u})});const w=(v,k)=>k.placement===v;return n.$$set=v=>{"theme"in v&&t(5,i=v.theme),"placement"in v&&t(1,d=v.placement),"type"in v&&t(6,u=v.type),"showProgress"in v&&t(7,p=v.showProgress),"duration"in v&&t(8,h=v.duration),"width"in v&&t(0,m=v.width),"$$scope"in v&&t(9,a=v.$$scope)},[m,d,r,o,$,i,u,p,h,a,s,w]}class Vl extends ae{constructor(e){super(),ie(this,e,Pl,Ll,le,{theme:5,placement:1,type:6,showProgress:7,duration:8,width:0})}}function Bl(n){let e,t,r,s,a="I understand, close this",i,d,u;return e=new fl({props:{showActionButtons:!1}}),{c(){T(e.$$.fragment),t=S(),r=g("div"),s=g("button"),s.textContent=a,this.h()},l(p){j(e.$$.fragment,p),t=L(p),r=_(p,"DIV",{class:!0});var h=b(r);s=_(h,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1evavle"&&(s.textContent=a),h.forEach(c),this.h()},h(){l(s,"id","close-window"),l(s,"class","btn btn-success btn-sm md:btn-md"),l(r,"class","flex justify-center items-center")},m(p,h){D(e,p,h),A(p,t,h),A(p,r,h),f(r,s),i=!0,d||(u=J(s,"click",Yn(n[8])),d=!0)},p:B,i(p){i||(M(e.$$.fragment,p),i=!0)},o(p){P(e.$$.fragment,p),i=!1},d(p){p&&(c(t),c(r)),H(e,p),d=!1,u()}}}function Tl(n){let e=!hr(),t,r,s,a,i,d,u,p,h,m,o,$,w,v,k,y=e&&Dl();function C(I,V){if(I[0]===0)return jl;if(I[0]===1)return Hl}let E=C(n),x=E&&E(n);return{c(){y&&y.c(),t=S(),r=g("div"),s=g("div"),a=g("a"),i=F("Existing Nostr user"),u=S(),p=g("a"),h=F("New user / Anon"),o=S(),$=g("div"),x&&x.c(),this.h()},l(I){y&&y.l(I),t=L(I),r=_(I,"DIV",{});var V=b(r);s=_(V,"DIV",{class:!0});var K=b(s);a=_(K,"A",{class:!0});var re=b(a);i=R(re,"Existing Nostr user"),re.forEach(c),u=L(K),p=_(K,"A",{class:!0});var se=b(p);h=R(se,"New user / Anon"),se.forEach(c),K.forEach(c),o=L(V),$=_(V,"DIV",{class:!0});var ne=b($);x&&x.l(ne),ne.forEach(c),V.forEach(c),this.h()},h(){l(a,"class",d="tab "+(n[0]===0?"bg-base-300 text-base-content":"")),l(p,"class",m="tab "+(n[0]===1?"bg-base-300 text-base-content":"")),l(s,"class","tabs tabs-lifted aaatabs-sm md:tabs-lg"),l($,"class","grid w-full flex-grow gap-3 p-4 py-6 lg:p-14 lg:py-8 bg-base-300 rounded-xl rounded-tl-none rounded-tr-none md:shadow-xl items-center justify-center")},m(I,V){y&&y.m(I,V),A(I,t,V),A(I,r,V),f(r,s),f(s,a),f(a,i),f(s,u),f(s,p),f(p,h),f(r,o),f(r,$),x&&x.m($,null),w=!0,v||(k=[J(a,"click",n[10]),J(p,"click",n[11])],v=!0)},p(I,V){(!w||V&1&&d!==(d="tab "+(I[0]===0?"bg-base-300 text-base-content":"")))&&l(a,"class",d),(!w||V&1&&m!==(m="tab "+(I[0]===1?"bg-base-300 text-base-content":"")))&&l(p,"class",m),E===(E=C(I))&&x?x.p(I,V):(x&&x.d(1),x=E&&E(I),x&&(x.c(),x.m($,null)))},i(I){w||(M(y),w=!0)},o(I){P(y),w=!1},d(I){I&&(c(t),c(r)),y&&y.d(I),x&&x.d(),v=!1,wt(k)}}}function Dl(n){let e,t,r,s,a=`<p>It&#39;s recommended that you use a Nostr browser extension in your browser to be able to buy products in Plebeian Market if you plan to build a reputation for your identity.</p> <p class="mt-2">You can try <a class="link" href="https://getalby.com/" target="_blank" rel="noreferrer">Alby</a>,
                    <a class="link" href="https://chrome.google.com/webstore/detail/nos2x/kpgefcfmnafjgpblomihpgmejjdanjjp" target="_blank" rel="noreferrer">nos2x</a> or
                    <a class="link" href="https://kollider.xyz/wallet" target="_blank" rel="noreferrer">Kollider</a> and
                    reload this screen again, or use one of this alternatives:</p>`,i,d,u="<p>You need a <b>Nostr private key</b> to be able to buy products in Plebeian Market. You can let us generate one for you, or you can provide one if you have one.</p>",p;return t=new Yr({}),{c(){e=g("div"),T(t.$$.fragment),r=S(),s=g("span"),s.innerHTML=a,i=S(),d=g("span"),d.innerHTML=u,this.h()},l(h){e=_(h,"DIV",{class:!0});var m=b(e);j(t.$$.fragment,m),r=L(m),s=_(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-189kpqo"&&(s.innerHTML=a),i=L(m),d=_(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-1c05fxq"&&(d.innerHTML=u),m.forEach(c),this.h()},h(){l(s,"class","hidden md:block"),l(d,"class","md:hidden"),l(e,"class","alert alert-info mt-3 mb-12 flex justify-center items-center")},m(h,m){A(h,e,m),D(t,e,null),f(e,r),f(e,s),f(e,i),f(e,d),p=!0},i(h){p||(M(t.$$.fragment,h),p=!0)},o(h){P(t.$$.fragment,h),p=!1},d(h){h&&c(e),H(t)}}}function Hl(n){let e,t,r,s,a,i="More info",d,u,p,h,m,o="Generate a new Nostr key",$,w,v=n[3]&&Us(n),k=n[3]&&qs(n);return{c(){e=g("div"),t=g("div"),r=g("p"),s=F(`This is the way to start using Plebeian Market if you don't have a Nostr extension or you want to have an anonymous identity.
                            `),a=g("button"),a.textContent=i,d=S(),v&&v.c(),u=S(),p=g("div"),k&&k.c(),h=S(),m=g("button"),m.textContent=o,this.h()},l(y){e=_(y,"DIV",{class:!0});var C=b(e);t=_(C,"DIV",{class:!0});var E=b(t);r=_(E,"P",{class:!0});var x=b(r);s=R(x,`This is the way to start using Plebeian Market if you don't have a Nostr extension or you want to have an anonymous identity.
                            `),a=_(x,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-1eyreq8"&&(a.textContent=i),x.forEach(c),d=L(E),v&&v.l(E),E.forEach(c),C.forEach(c),u=L(y),p=_(y,"DIV",{class:!0});var I=b(p);k&&k.l(I),h=L(I),m=_(I,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-w59ncs"&&(m.textContent=o),I.forEach(c),this.h()},h(){l(a,"class","btn btn-outline btn-xs btn-info"),l(r,"class","mb-4"),l(t,"class","form-control w-full max-w-full"),l(e,"class","w-full flex pt-3 md:pt-6"),l(m,"class","btn btn-primary btn-xs md:btn-md"),l(p,"class","w-full flex items-center justify-center mt-8 mb-1")},m(y,C){A(y,e,C),f(e,t),f(t,r),f(r,s),f(r,a),f(t,d),v&&v.m(t,null),A(y,u,C),A(y,p,C),k&&k.m(p,null),f(p,h),f(p,m),$||(w=[J(a,"click",n[13]),J(m,"click",n[6])],$=!0)},p(y,C){y[3]?v?v.p(y,C):(v=Us(y),v.c(),v.m(t,null)):v&&(v.d(1),v=null),y[3]?k?k.p(y,C):(k=qs(y),k.c(),k.m(p,h)):k&&(k.d(1),k=null)},d(y){y&&(c(e),c(u),c(p)),v&&v.d(),k&&k.d(),$=!1,wt(w)}}}function jl(n){let e,t,r,s,a,i,d="It will be stored in the web browser of this device, so Plebeian Market will have no way to access it.",u,p,h,m="Save the private key",o,$,w=hr&&Ol(n);return{c(){w&&w.c(),e=S(),t=g("div"),r=g("div"),s=g("input"),a=S(),i=g("p"),i.textContent=d,u=S(),p=g("div"),h=g("button"),h.textContent=m,this.h()},l(v){w&&w.l(v),e=L(v),t=_(v,"DIV",{class:!0});var k=b(t);r=_(k,"DIV",{class:!0});var y=b(r);s=_(y,"INPUT",{class:!0,type:!0,placeholder:!0}),a=L(y),i=_(y,"P",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-ugi31c"&&(i.textContent=d),y.forEach(c),k.forEach(c),u=L(v),p=_(v,"DIV",{class:!0});var C=b(p);h=_(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(h)!=="svelte-f8euz1"&&(h.textContent=m),C.forEach(c),this.h()},h(){l(s,"class","input md:input-md input-bordered"),l(s,"type","text"),l(s,"placeholder","Paste your Nostr private key"),l(i,"class","mt-4 mb-2 text-xs"),l(r,"class","form-control w-full max-w-full"),l(t,"class","w-full flex items-center justify-center"),l(h,"class","btn btn-primary"),l(p,"class","w-full flex items-center justify-center")},m(v,k){w&&w.m(v,k),A(v,e,k),A(v,t,k),f(t,r),f(r,s),Ft(s,n[1]),f(r,a),f(r,i),A(v,u,k),A(v,p,k),f(p,h),o||($=[J(s,"input",n[12]),J(h,"click",n[7])],o=!0)},p(v,k){hr&&w.p(v,k),k&2&&s.value!==v[1]&&Ft(s,v[1])},d(v){v&&(c(e),c(t),c(u),c(p)),w&&w.d(v),o=!1,wt($)}}}function Us(n){let e,t,r="This is the key we previously generated for you. You can use it or generate a new one.",s,a,i="<b>If you generate a new one, you&#39;ll better make sure you save this one to a secure place before, or you&#39;ll lose your ability to communicate with sellers and keep the Orders history.</b>",d,u,p,h;return{c(){e=g("div"),t=g("p"),t.textContent=r,s=S(),a=g("p"),a.innerHTML=i,d=S(),u=g("input"),this.h()},l(m){e=_(m,"DIV",{class:!0});var o=b(e);t=_(o,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-xz97gc"&&(t.textContent=r),s=L(o),a=_(o,"P",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-luw6t7"&&(a.innerHTML=i),d=L(o),u=_(o,"INPUT",{type:!0,class:!0}),o.forEach(c),this.h()},h(){l(t,"class","mb-4"),l(a,"class","mb-4"),l(u,"type","text"),l(u,"class","input md:input-lg input-bordered"),l(e,"class","form-control w-full max-w-full mt-6")},m(m,o){A(m,e,o),f(e,t),f(e,s),f(e,a),f(e,d),f(e,u),Ft(u,n[3]),p||(h=J(u,"input",n[14]),p=!0)},p(m,o){o&8&&u.value!==m[3]&&Ft(u,m[3])},d(m){m&&c(e),p=!1,h()}}}function qs(n){let e,t="Use this key",r,s;return{c(){e=g("button"),e.textContent=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-v0w2wm"&&(e.textContent=t),this.h()},h(){l(e,"class","btn btn-success btn-xs md:btn-md mr-8")},m(a,i){A(a,e,i),r||(s=J(e,"click",n[5]),r=!0)},p:B,d(a){a&&c(e),r=!1,s()}}}function Ol(n){let e,t="Recommended",r,s,a,i="Use Nostr browser extension",d,u,p="OR",h,m;return{c(){e=g("div"),e.textContent=t,r=S(),s=g("div"),a=g("button"),a.textContent=i,d=S(),u=g("div"),u.textContent=p,this.h()},l(o){e=_(o,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-xkqrgd"&&(e.textContent=t),r=L(o),s=_(o,"DIV",{class:!0});var $=b(s);a=_($,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-14irywf"&&(a.textContent=i),$.forEach(c),d=L(o),u=_(o,"DIV",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-rrsvz2"&&(u.textContent=p),this.h()},h(){l(e,"class","flex mt-6 items-center justify-center text-warning"),l(a,"class","btn btn-success"),l(s,"class","flex w-full items-center justify-center"),l(u,"class","divider py-6 md:py-8")},m(o,$){A(o,e,$),A(o,r,$),A(o,s,$),f(s,a),A(o,d,$),A(o,u,$),h||(m=J(a,"click",n[4]),h=!0)},p:B,d(o){o&&(c(e),c(r),c(s),c(d),c(u)),h=!1,m()}}}function zl(n){let e,t,r,s,a,i,d="With this option you can let us <b>generate a new Nostr private key</b> for you. In this way you are also essentially <b>buying products anonymously</b>, because the freshly generated key is not associated with any other identities you may be already using on Nostr.",u,p,h="This is the recommended option if you don't have a Nostr extension or a Nostr identity already created.",m,o,$="A new Nostr private key will be <b>generated and stored in the web browser of this device</b>, so no other person will have access to it.",w,v,k,y="Close",C,E,x="<button>close</button>",I,V,K;const re=[Tl,Bl],se=[];function ne(W,q){return W[2]?1:0}return e=ne(n),t=se[e]=re[e](n),{c(){t.c(),r=S(),s=g("dialog"),a=g("form"),i=g("p"),i.innerHTML=d,u=S(),p=g("p"),p.textContent=h,m=S(),o=g("p"),o.innerHTML=$,w=S(),v=g("div"),k=g("button"),k.textContent=y,C=S(),E=g("form"),E.innerHTML=x,this.h()},l(W){t.l(W),r=L(W),s=_(W,"DIALOG",{id:!0,class:!0});var q=b(s);a=_(q,"FORM",{method:!0,class:!0});var Z=b(a);i=_(Z,"P",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-14bmzuy"&&(i.innerHTML=d),u=L(Z),p=_(Z,"P",{class:!0,"data-svelte-h":!0}),Q(p)!=="svelte-1d1nixo"&&(p.textContent=h),m=L(Z),o=_(Z,"P",{class:!0,"data-svelte-h":!0}),Q(o)!=="svelte-1i4u42y"&&(o.innerHTML=$),w=L(Z),v=_(Z,"DIV",{class:!0});var Ae=b(v);k=_(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-nx1tlh"&&(k.textContent=y),Ae.forEach(c),Z.forEach(c),C=L(q),E=_(q,"FORM",{method:!0,class:!0,"data-svelte-h":!0}),Q(E)!=="svelte-y3fz8w"&&(E.innerHTML=x),q.forEach(c),this.h()},h(){l(i,"class","mt-4"),l(p,"class","mt-4"),l(o,"class","mt-4"),l(k,"class","btn"),l(v,"class","modal-action"),l(a,"method","dialog"),l(a,"class","modal-box"),l(E,"method","dialog"),l(E,"class","modal-backdrop"),l(s,"id","modal_generate_key"),l(s,"class","modal")},m(W,q){se[e].m(W,q),A(W,r,q),A(W,s,q),f(s,a),f(a,i),f(a,u),f(a,p),f(a,m),f(a,o),f(a,w),f(a,v),f(v,k),f(s,C),f(s,E),I=!0,V||(K=J(k,"click",window.modal_generate_key.close()),V=!0)},p(W,[q]){let Z=e;e=ne(W),e===Z?se[e].p(W,q):(Ee(),P(se[Z],1,1,()=>{se[Z]=null}),xe(),t=se[e],t?t.p(W,q):(t=se[e]=re[e](W),t.c()),M(t,1),t.m(r.parentNode,r))},i(W){I||(M(t),I=!0)},o(W){P(t),I=!1},d(W){W&&(c(r),c(s)),se[e].d(W),V=!1,K()}}}function Ul(n,e,t){let r,s;X(n,Ot,I=>t(3,r=I)),X(n,st,I=>t(9,s=I));const a=Qn();let i=0,d=null,u=!1;async function p(){let I=await window.nostr.getPublicKey();ur("extension"),st.set(I),localStorage.setItem("nostrPublicKey",I),await w(),v()}async function h(){ur("generated"),await $(r),t(2,u=!0)}async function m(){let I=Bn();ur("generated"),await $(I),t(2,u=!0)}async function o(){d&&(ur("provided"),await $(d))}async function $(I){if(I.toLowerCase().startsWith("nsec")){let{type:K,data:re}=Tn.decode(I.toLowerCase());K==="nsec"&&re&&(I=re)}let V=gn(I);st.set(V),Ot.set(I),localStorage.setItem("nostrPublicKey",V),localStorage.setItem("nostrPrivateKey",I),await w()}async function w(){await new Promise(I=>setTimeout(I,1e3)),a("login",{}),v(),Dn(()=>{a("backoffice-login")})}function v(){a("close",{})}Bt(async()=>{hr()||t(0,i=1)});const k=()=>t(0,i=0),y=()=>t(0,i=1);function C(){d=this.value,t(1,d)}const E=()=>{window.modal_generate_key.showModal()};function x(){r=this.value,Ot.set(r)}return n.$$.update=()=>{n.$$.dirty&512&&s&&a("login",{})},[i,d,u,r,p,h,m,o,v,s,k,y,C,E,x]}class ql extends ae{constructor(e){super(),ie(this,e,Ul,zl,le,{})}}function Fs(n){let e,t;return e=new ql({}),e.$on("login",function(){Kr(n[0])&&n[0].apply(this,arguments)}),e.$on("backoffice-login",function(){Kr(n[1])&&n[1].apply(this,arguments)}),e.$on("close",n[2]),{c(){T(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){D(e,r,s),t=!0},p(r,s){n=r},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Fl(n){let e,t,r,s="✕",a,i,d,u,p,h=n[3]&&Fs(n);return{c(){e=g("div"),t=g("div"),r=g("label"),r.textContent=s,a=S(),i=g("div"),h&&h.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var o=b(e);t=_(o,"DIV",{class:!0});var $=b(t);r=_($,"LABEL",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-n5qjda"&&(r.textContent=s),a=L($),i=_($,"DIV",{class:!0,id:!0});var w=b(i);h&&h.l(w),w.forEach(c),$.forEach(c),o.forEach(c),this.h()},h(){l(r,"class","btn btn-sm btn-circle absolute right-2 top-2"),l(i,"class","w-full"),l(i,"id","loginDiv"),l(t,"class","modal-box relative flex justify-center items-center w-11/12 max-w-5xl p-6 lg:p-9"),l(e,"class","modal"),Be(e,"modal-open",n[3])},m(m,o){A(m,e,o),f(e,t),f(t,r),f(t,a),f(t,i),h&&h.m(i,null),d=!0,u||(p=[J(r,"click",n[6]),J(r,"keypress",n[7])],u=!0)},p(m,[o]){m[3]?h?(h.p(m,o),o&8&&M(h,1)):(h=Fs(m),h.c(),M(h,1),h.m(i,null)):h&&(Ee(),P(h,1,1,()=>{h=null}),xe()),(!d||o&8)&&Be(e,"modal-open",m[3])},i(m){d||(M(h),d=!0)},o(m){P(h),d=!1},d(m){m&&c(e),h&&h.d(),u=!1,wt(p)}}}function Rl(n,e,t){let r,s,a,i,d,u;X(n,zt,k=>t(8,r=k)),X(n,Ms,k=>t(9,s=k)),X(n,Fr,k=>t(10,a=k)),X(n,Ot,k=>t(11,i=k)),X(n,st,k=>t(12,d=k)),X(n,As,k=>t(5,u=k));let p=!1;function h(k=()=>{},y=()=>{}){t(3,p=!0),t(0,o=k),t(1,$=y)}function m(){t(3,p=!1)}let{onLogin:o=()=>{}}=e,{onLoginBackoffice:$=()=>{}}=e;Bt(async()=>{ce(st,d=localStorage.getItem("nostrPublicKey"),d),ce(Ot,i=localStorage.getItem("nostrPrivateKey"),i),ce(Fr,a=localStorage.getItem("token"),a),ce(Ms,s=localStorage.getItem("nostrLoginMethod"),s),ce(zt,r=localStorage.getItem("userChosenCurrency")??"USD",r)});const w=()=>m(),v=()=>m();return n.$$set=k=>{"onLogin"in k&&t(0,o=k.onLogin),"onLoginBackoffice"in k&&t(1,$=k.onLoginBackoffice)},n.$$.update=()=>{n.$$.dirty&32&&u.openRequested&&(h(u.loginSuccessCB,u.loginBackofficeSuccessCB),ce(As,u.openRequested=!1,u))},[o,$,m,p,h,u,w,v]}let Kl=class extends ae{constructor(e){super(),ie(this,e,Rl,Fl,le,{show:4,hide:2,onLogin:0,onLoginBackoffice:1})}get show(){return this.$$.ctx[4]}get hide(){return this.$$.ctx[2]}get onLogin(){return this.$$.ctx[0]}set onLogin(e){this.$$set({onLogin:e}),Vt()}get onLoginBackoffice(){return this.$$.ctx[1]}set onLoginBackoffice(e){this.$$set({onLoginBackoffice:e}),Vt()}};function Wl(n){let e,t,r,s,a,i,d="✕",u,p,h,m,o,$;var w=n[0];function v(k,y){return{props:{onSave:k[4]}}}return w&&(h=mr(w,v(n))),{c(){e=g("input"),r=S(),s=g("div"),a=g("div"),i=g("label"),i.textContent=d,u=S(),p=g("div"),h&&T(h.$$.fragment),this.h()},l(k){e=_(k,"INPUT",{type:!0,id:!0,class:!0}),r=L(k),s=_(k,"DIV",{class:!0});var y=b(s);a=_(y,"DIV",{class:!0});var C=b(a);i=_(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-9474zl"&&(i.textContent=d),u=L(C),p=_(C,"DIV",{class:!0});var E=b(p);h&&j(h.$$.fragment,E),E.forEach(c),C.forEach(c),y.forEach(c),this.h()},h(){l(e,"type","checkbox"),l(e,"id",t=n[1]+"-toggle"),l(e,"class","modal-toggle"),l(i,"for","modal-box"),l(i,"class","btn btn-sm btn-circle absolute right-2 top-2"),Be(i,"hidden",!n[2]),l(p,"class","w-full"),l(a,"class","modal-box relative flex justify-center items-center w-10/12 max-w-1xl"),l(s,"class","modal")},m(k,y){A(k,e,y),A(k,r,y),A(k,s,y),f(s,a),f(a,i),f(a,u),f(a,p),h&&D(h,p,null),m=!0,o||($=[J(i,"click",n[7]),J(i,"keypress",n[8])],o=!0)},p(k,[y]){if((!m||y&2&&t!==(t=k[1]+"-toggle"))&&l(e,"id",t),(!m||y&4)&&Be(i,"hidden",!k[2]),y&1&&w!==(w=k[0])){if(h){Ee();const C=h;P(C.$$.fragment,1,0,()=>{H(C,1)}),xe()}w?(h=mr(w,v(k)),T(h.$$.fragment),M(h.$$.fragment,1),D(h,p,null)):h=null}},i(k){m||(h&&M(h.$$.fragment,k),m=!0)},o(k){h&&P(h.$$.fragment,k),m=!1},d(k){k&&(c(e),c(r),c(s)),h&&H(h),o=!1,wt($)}}}function Gl(n,e,t){let{content:r}=e,{id:s="modal"}=e,{hasHide:a=!1}=e,{onHide:i=o=>{}}=e;function d(){let o=document.getElementById(`${s}-toggle`);o&&(o.checked=!0)}function u(o=!1){let $=document.getElementById(`${s}-toggle`);$&&($.checked=!1),i(o)}function p(){u(!0)}const h=()=>u(),m=()=>u();return n.$$set=o=>{"content"in o&&t(0,r=o.content),"id"in o&&t(1,s=o.id),"hasHide"in o&&t(2,a=o.hasHide),"onHide"in o&&t(5,i=o.onHide)},[r,s,a,u,p,i,d,h,m]}class Zl extends ae{constructor(e){super(),ie(this,e,Gl,Wl,le,{content:0,id:1,hasHide:2,onHide:5,show:6,hide:3})}get content(){return this.$$.ctx[0]}set content(e){this.$$set({content:e}),Vt()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),Vt()}get hasHide(){return this.$$.ctx[2]}set hasHide(e){this.$$set({hasHide:e}),Vt()}get onHide(){return this.$$.ctx[5]}set onHide(e){this.$$set({onHide:e}),Vt()}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[3]}}function Ql(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}const Yl=Ql(Hn),{bech32:rt,hex:Re,utf8:Jl}=Yl,Rs={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Ks={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Ws={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Gs={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},dr=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],Xl={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},ea=BigInt("2100000000000000000"),Zs=BigInt(1e11),Gr={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},In={};for(let n=0,e=Object.keys(Gr);n<e.length;n++){const t=e[n],r=Gr[e[n]].toString();In[r]=t}const ta={1:n=>Re.encode(rt.fromWordsUnsafe(n)),16:n=>Re.encode(rt.fromWordsUnsafe(n)),13:n=>Jl.encode(rt.fromWordsUnsafe(n)),19:n=>Re.encode(rt.fromWordsUnsafe(n)),23:n=>Re.encode(rt.fromWordsUnsafe(n)),27:n=>Re.encode(rt.fromWordsUnsafe(n)),6:gr,24:gr,3:sa,5:na};function ra(n){return e=>({tagCode:parseInt(n),words:rt.encode("unknown",e,Number.MAX_SAFE_INTEGER)})}function gr(n){return n.reverse().reduce((e,t,r)=>e+t*Math.pow(32,r),0)}function sa(n){const e=[];let t,r,s,a,i,d=rt.fromWordsUnsafe(n);for(;d.length>0;)t=Re.encode(d.slice(0,33)),r=Re.encode(d.slice(33,41)),s=parseInt(Re.encode(d.slice(41,45)),16),a=parseInt(Re.encode(d.slice(45,49)),16),i=parseInt(Re.encode(d.slice(49,51)),16),d=d.slice(51),e.push({pubkey:t,short_channel_id:r,fee_base_msat:s,fee_proportional_millionths:a,cltv_expiry_delta:i});return e}function na(n){const e=n.slice().reverse().map(s=>[!!(s&1),!!(s&2),!!(s&4),!!(s&8),!!(s&16)]).reduce((s,a)=>s.concat(a),[]);for(;e.length<dr.length*2;)e.push(!1);const t={};dr.forEach((s,a)=>{let i;e[a*2]?i="required":e[a*2+1]?i="supported":i="unsupported",t[s]=i});const r=e.slice(dr.length*2);return t.extra_bits={start_bit:dr.length*2,bits:r,has_required:r.reduce((s,a,i)=>i%2!==0?s||!1:s||a,!1)},t}function Mn(n,e){let t,r;if(n.slice(-1).match(/^[munp]$/))t=n.slice(-1),r=n.slice(0,-1);else{if(n.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=n}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const s=BigInt(r),a=t?s*Zs/Xl[t]:s*Zs;if(t==="p"&&s%BigInt(10)!==BigInt(0)||a>ea)throw new Error("Amount is outside of valid range");return e?a.toString():a}function la(n,e){if(typeof n!="string")throw new Error("Lightning Payment Request must be string");if(n.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const t=[],r=rt.decode(n,Number.MAX_SAFE_INTEGER);n=n.toLowerCase();const s=r.prefix;let a=r.words,i=n.slice(s.length+1),d=a.slice(-104);a=a.slice(0,-104);let u=s.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(u&&!u[2]&&(u=s.match(/^ln(\S+)$/)),!u)throw new Error("Not a proper lightning payment request");t.push({name:"lightning_network",letters:"ln"});const p=u[1];let h;if(e){if(e.bech32===void 0||e.pubKeyHash===void 0||e.scriptHash===void 0||!Array.isArray(e.validWitnessVersions))throw new Error("Invalid network");h=e}else switch(p){case Rs.bech32:h=Rs;break;case Ks.bech32:h=Ks;break;case Ws.bech32:h=Ws;break;case Gs.bech32:h=Gs;break}if(!h||h.bech32!==p)throw new Error("Unknown coin bech32 prefix");t.push({name:"coin_network",letters:p,value:h});const m=u[2];let o;if(m){const x=u[3];o=Mn(m+x,!0),t.push({name:"amount",letters:u[2]+u[3],value:o})}else o=null;t.push({name:"separator",letters:"1"});const $=gr(a.slice(0,7));a=a.slice(7),t.push({name:"timestamp",letters:i.slice(0,7),value:$}),i=i.slice(7);let w,v,k,y;for(;a.length>0;){const x=a[0].toString();w=In[x]||"unknown_tag",v=ta[x]||ra(x),a=a.slice(1),k=gr(a.slice(0,2)),a=a.slice(2),y=a.slice(0,k),a=a.slice(k),t.push({name:w,tag:i[0],letters:i.slice(0,3+k),value:v(y)}),i=i.slice(3+k)}t.push({name:"signature",letters:i.slice(0,104),value:Re.encode(rt.fromWordsUnsafe(d))}),i=i.slice(104),t.push({name:"checksum",letters:i});let C={paymentRequest:n,sections:t,get expiry(){let x=t.find(I=>I.name==="expiry");if(x)return E("timestamp")+x.value},get route_hints(){return t.filter(x=>x.name==="route_hint").map(x=>x.value)}};for(let x in Gr)x!=="route_hint"&&Object.defineProperty(C,x,{get(){return E(x)}});return C;function E(x){let I=t.find(V=>V.name===x);return I?I.value:void 0}}var aa={decode:la,hrpToMillisat:Mn};function ia(n){let e,t='<span class="indicator-item badge badge-sm badge-secondary">!</span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(r){e=_(r,"DIV",{class:!0,"data-tip":!0,"data-svelte-h":!0}),Q(e)!=="svelte-xpdsq6"&&(e.innerHTML=t),this.h()},h(){l(e,"class","tooltip tooltip-bottom tooltip-secondary"),l(e,"data-tip","Login clicking here")},m(r,s){A(r,e,s)},p:B,d(r){r&&c(e)}}}function oa(n){let e,t=n[1]&&Qs(n);return{c(){t&&t.c(),e=nt()},l(r){t&&t.l(r),e=nt()},m(r,s){t&&t.m(r,s),A(r,e,s)},p(r,s){r[1]?t?t.p(r,s):(t=Qs(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&c(e),t&&t.d(r)}}}function Qs(n){let e,t,r,s;return{c(){e=g("div"),t=g("span"),r=F(n[1]),this.h()},l(a){e=_(a,"DIV",{class:!0,"data-tip":!0});var i=b(e);t=_(i,"SPAN",{class:!0});var d=b(t);r=R(d,n[1]),d.forEach(c),i.forEach(c),this.h()},h(){l(t,"class","indicator-item badge badge-sm badge-error"),l(e,"class","tooltip tooltip-bottom tooltip-error"),l(e,"data-tip",s=n[1]+" unread conversations")},m(a,i){A(a,e,i),f(e,t),f(t,r)},p(a,i){i&2&&Rt(r,a[1]),i&2&&s!==(s=a[1]+" unread conversations")&&l(e,"data-tip",s)},d(a){a&&c(e)}}}function ca(n){let e,t,r,s,a,i,d;r=new gl({});function u(m,o){return m[0]?oa:ia}let p=u(n),h=p(n);return{c(){e=g("div"),t=g("div"),T(r.$$.fragment),s=S(),h.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var o=b(e);t=_(o,"DIV",{class:!0});var $=b(t);j(r.$$.fragment,$),$.forEach(c),s=L(o),h.l(o),o.forEach(c),this.h()},h(){l(t,"class","size-8 3xl:size-9"),l(e,"class","indicator")},m(m,o){A(m,e,o),f(e,t),D(r,t,null),f(e,s),h.m(e,null),a=!0,i||(d=J(e,"click",n[2]),i=!0)},p(m,[o]){p===(p=u(m))&&h?h.p(m,o):(h.d(1),h=p(m),h&&(h.c(),h.m(e,null)))},i(m){a||(M(r.$$.fragment,m),a=!0)},o(m){P(r.$$.fragment,m),a=!1},d(m){m&&c(e),H(r),h.d(),i=!1,d()}}}function ua(n,e,t){let r,s,a;X(n,Fr,o=>t(6,r=o)),X(n,st,o=>t(0,s=o)),X(n,$e,o=>t(7,a=o));let i=0;function d(){t(1,i=0);for(const[o,$]of Object.entries(a.human)){let w=0,v=0;for(const k of $.messages){k.created_at>w&&(w=k.created_at);let y=localStorage.getItem("readMessages"),E=(JSON.parse(y)??{})[o]??0;k.created_at>E&&v++}v>0&&t(1,i++,i),$.maxTimestamp=w,$.unreadMessages=v}ce($e,a.unreadConversations=i,a),$e.set(a)}async function u(o,$=!1){await jn(o,$,w=>{if(w!==null&&typeof w=="object")if(w.contentType==="json"){if(!$){let v;if(w.type!==void 0?v=Number(w.type):w.paid?v=2:w.payment_options?v=1:v=0,w.type=v,v===1){for(const y of w.payment_options)if(y.type==="ln"){const C=aa.decode(y.link),E=C.sections.filter(x=>x.name==="amount");E.length?y.amount_sats=E[0].value/1e3:console.error("Lightning invoice without amount or with amount = 0 !!!"),C.expiry&&(y.expiry=C.expiry)}}v===10&&(w.isAuction=!0);let k=w.id;if(k===void 0)return;k in a.automatic?w.type>a.automatic[k].type&&w.type!==10||w.type===a.automatic[k].type&&w.created_at>a.automatic[k].created_at?ce($e,a.automatic[k]={...a.automatic[k],...w},a):ce($e,a.automatic[k]={...w,...a.automatic[k]},a):ce($e,a.automatic[k]=w,a),$e.set(a)}}else{let v=w.pubkey;if(v===o&&(v=w.my_message_replying_to_this_pubkey),v in a.human){let k=!0;for(const y of a.human[v].messages)w.id===y.id&&(k=!1);k&&(a.human[v].messages.push(w),ce($e,a.human[v].merchantPrivateKey=$,a))}else ce($e,a.human[v]={messages:[w],merchantPrivateKey:$},a);$e.set(a)}},p)}async function p(){_n(Object.keys(a.human),async(o,$)=>{if((!a.human[o].created_at||$.created_at>a.human[o].created_at)&&(ce($e,a.human[o].created_at=$.created_at,a),$.name!==void 0?ce($e,a.human[o].name=$.name,a):ce($e,a.human[o].name=!1,a),$.picture!==void 0?ce($e,a.human[o].picture=$.picture,a):ce($e,a.human[o].picture=!1,a),$.nip05)){let w=await On($.nip05);if(w!==null&&o===w){let v=$.nip05;v.startsWith("_@")?ce($e,a.human[o].nip05VerifiedAddress=v.substring(2),a):ce($e,a.human[o].nip05VerifiedAddress=v,a)}}})}function h(){vn("/messages")}async function m(){const o=await zn();o&&o.user&&o.user.merchant_private_key?await u(gn(o.user.merchant_private_key),o.user.merchant_private_key):console.debug("getMerchantNostrDMs - the merchant private key couldn't be obtained - userInfo:",o)}return n.$$.update=()=>{n.$$.dirty&128&&(a.human,d()),n.$$.dirty&1&&s&&u(s),n.$$.dirty&64&&r&&m()},[s,i,h,d,u,p,r,a]}class fa extends ae{constructor(e){super(),ie(this,e,ua,ca,le,{vitamineHumanConversations:3,getNostrDMs:4,getMetadataForHumanPubkeys:5})}get vitamineHumanConversations(){return this.$$.ctx[3]}get getNostrDMs(){return this.$$.ctx[4]}get getMetadataForHumanPubkeys(){return this.$$.ctx[5]}}function Ys(n){let e,t,r;return{c(){e=g("label"),t=g("img"),this.h()},l(s){e=_(s,"LABEL",{role:!0,tabindex:!0,class:!0});var a=b(e);t=_(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(c),this.h()},h(){l(t,"class","w-10 rounded-full"),Wr(t.src,r=n[1]??Ts)||l(t,"src",r),l(t,"alt","Avatar"),l(e,"role","button"),l(e,"tabindex","0"),l(e,"class","btn btn-ghost btn-circle avatar hidden lg:block")},m(s,a){A(s,e,a),f(e,t)},p(s,a){a&2&&!Wr(t.src,r=s[1]??Ts)&&l(t,"src",r)},d(s){s&&c(e)}}}function da(n){let e,t=n[0]&&Ys(n);return{c(){t&&t.c(),e=nt()},l(r){t&&t.l(r),e=nt()},m(r,s){t&&t.m(r,s),A(r,e,s)},p(r,[s]){r[0]?t?t.p(r,s):(t=Ys(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:B,o:B,d(r){r&&c(e),t&&t.d(r)}}}function ha(n,e,t){let r;X(n,st,a=>t(0,r=a));let s=null;return n.$$.update=()=>{if(n.$$.dirty&1&&r){let a=!1;_n([r],(i,d)=>{a||(a=!0,d.picture&&t(1,s=d.picture))})}},[r,s]}class ma extends ae{constructor(e){super(),ie(this,e,ha,da,le,{})}}function pa(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","2"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class ga extends ae{constructor(e){super(),ie(this,e,null,pa,le,{})}}function _a(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M6 13.5V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 9.75V10.5"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Js extends ae{constructor(e){super(),ie(this,e,null,_a,le,{})}}function va(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class ba extends ae{constructor(e){super(),ie(this,e,null,va,le,{})}}function wa(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class An extends ae{constructor(e){super(),ie(this,e,null,wa,le,{})}}function ka(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=b(e);t=te(s,"path",{d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"),l(e,"class","fill-current"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"viewBox","0 0 24 24")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class $a extends ae{constructor(e){super(),ie(this,e,null,ka,le,{})}}function ya(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{class:!0,xmlns:!0,viewBox:!0});var s=b(e);t=te(s,"path",{d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"),l(e,"class","fill-current"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"viewBox","0 0 24 24")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Ea extends ae{constructor(e){super(),ie(this,e,null,ya,le,{})}}function xa(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"stroke-width","2"),l(t,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Ca extends ae{constructor(e){super(),ie(this,e,null,xa,le,{})}}function Ia(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Xs extends ae{constructor(e){super(),ie(this,e,null,Ia,le,{})}}function Ma(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Aa extends ae{constructor(e){super(),ie(this,e,null,Ma,le,{})}}function Na(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Sa extends ae{constructor(e){super(),ie(this,e,null,Na,le,{})}}function La(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","currentColor")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class en extends ae{constructor(e){super(),ie(this,e,null,La,le,{})}}function Pa(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=te(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"d","M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"stroke-width","1.5"),l(e,"stroke","text-primary"),l(e,"class","stroke-primary")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Va extends ae{constructor(e){super(),ie(this,e,null,Pa,le,{})}}function Ba(n,e,t){const r=n.slice();return r[3]=e[t],r}function Ta(n){let e,t=n[3].name+"",r;return{c(){e=g("option"),r=F(t),this.h()},l(s){e=_(s,"OPTION",{});var a=b(e);r=R(a,t),a.forEach(c),this.h()},h(){e.__value=n[3].symbol,Ft(e,e.__value)},m(s,a){A(s,e,a),f(e,r)},p:B,d(s){s&&c(e)}}}function Da(n){let e,t,r,s=qt(dl),a=[];for(let i=0;i<s.length;i+=1)a[i]=Ta(Ba(n,s,i));return{c(){e=g("select");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=_(i,"SELECT",{class:!0});var d=b(e);for(let u=0;u<a.length;u+=1)a[u].l(d);d.forEach(c),this.h()},h(){l(e,"class",n[0]),n[1]===void 0&&wn(()=>n[2].call(e))},m(i,d){A(i,e,d);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Bs(e,n[1],!0),t||(r=J(e,"change",n[2]),t=!0)},p(i,[d]){d&1&&l(e,"class",i[0]),d&2&&Bs(e,i[1])},i:B,o:B,d(i){i&&c(e),bn(a,i),t=!1,r()}}}function Ha(n,e,t){let r;X(n,zt,i=>t(1,r=i));let{classStyle:s="px-2 select select-bordered w-full max-w-xs"}=e;Bt(async()=>{r||ce(zt,r="USD",r)});function a(){r=Jn(this),zt.set(r)}return n.$$set=i=>{"classStyle"in i&&t(0,s=i.classStyle)},n.$$.update=()=>{n.$$.dirty&2&&r&&(hl(r),localStorage.setItem("userChosenCurrency",r))},[s,r,a]}class Nn extends ae{constructor(e){super(),ie(this,e,Ha,Da,le,{classStyle:0})}}function tn(n){let e,t,r,s,a;return{c(){e=g("p"),t=g("a"),r=F("Nostr Universe"),this.h()},l(i){e=_(i,"P",{class:!0});var d=b(e);t=_(d,"A",{href:!0,rel:!0,class:!0});var u=b(t);r=R(u,"Nostr Universe"),u.forEach(c),d.forEach(c),this.h()},h(){l(t,"href","/universe"),l(t,"rel",s=n[0]?"":"external"),l(t,"class",a="btn btn-ghost normal-case "+(n[4].url.pathname==="/universe"?"underline":"")),l(e,"class","mr-8")},m(i,d){A(i,e,d),f(e,t),f(t,r)},p(i,d){d&1&&s!==(s=i[0]?"":"external")&&l(t,"rel",s),d&16&&a!==(a="btn btn-ghost normal-case "+(i[4].url.pathname==="/universe"?"underline":""))&&l(t,"class",a)},d(i){i&&c(e)}}}function rn(n){let e,t=Number(n[6].summary.totalQuantity??0)+Number(n[7].unreadConversations??0)+"",r;return{c(){e=g("span"),r=F(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var a=b(e);r=R(a,t),a.forEach(c),this.h()},h(){l(e,"class","indicator-item badge badge-sm badge-error -ml-3")},m(s,a){A(s,e,a),f(e,r)},p(s,a){a&192&&t!==(t=Number(s[6].summary.totalQuantity??0)+Number(s[7].unreadConversations??0)+"")&&Rt(r,t)},d(s){s&&c(e)}}}function sn(n){let e,t,r;return t=new Nn({}),{c(){e=g("div"),T(t.$$.fragment),this.h()},l(s){e=_(s,"DIV",{class:!0});var a=b(e);j(t.$$.fragment,a),a.forEach(c),this.h()},h(){l(e,"class","right-0 mr-3 3xl:mr-5 hidden lg:block")},m(s,a){A(s,e,a),D(t,e,null),r=!0},i(s){r||(M(t.$$.fragment,s),r=!0)},o(s){P(t.$$.fragment,s),r=!1},d(s){s&&c(e),H(t)}}}function nn(n){let e,t,r;return t=new Nn({}),{c(){e=g("div"),T(t.$$.fragment),this.h()},l(s){e=_(s,"DIV",{class:!0});var a=b(e);j(t.$$.fragment,a),a.forEach(c),this.h()},h(){l(e,"class","right-0 lg:hidden")},m(s,a){A(s,e,a),D(t,e,null),r=!0},i(s){r||(M(t.$$.fragment,s),r=!0)},o(s){P(t.$$.fragment,s),r=!1},d(s){s&&c(e),H(t)}}}function ln(n){let e,t,r,s,a,i,d,u,p,h;s=new ga({});let m=n[6].summary.totalQuantity&&an(n);return p=new pl({props:{compact:!0}}),{c(){e=g("div"),t=g("label"),r=g("div"),T(s.$$.fragment),a=S(),m&&m.c(),i=S(),d=g("div"),u=g("div"),T(p.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0});var $=b(e);t=_($,"LABEL",{tabindex:!0,class:!0});var w=b(t);r=_(w,"DIV",{class:!0});var v=b(r);j(s.$$.fragment,v),a=L(v),m&&m.l(v),v.forEach(c),w.forEach(c),i=L($),d=_($,"DIV",{tabindex:!0,class:!0});var k=b(d);u=_(k,"DIV",{class:!0});var y=b(u);j(p.$$.fragment,y),y.forEach(c),k.forEach(c),$.forEach(c),this.h()},h(){l(r,"class","size-7 3xl:size-8 focus:outline-none indicator"),l(t,"tabindex","0"),l(t,"class","btn btn-ghost btn-circle"),l(u,"class","card-body !px-2"),l(d,"tabindex","0"),l(d,"class","!fixed lg:float w-[97%] lg:w-fit mt-0 mr-1 bg-base-300 card card-compact card-bordered border-black dark:border-white dropdown-content shadow-xl z-50"),l(e,"class","dropdown dropdown-end mr-1 3xl:mr-3")},m(o,$){A(o,e,$),f(e,t),f(t,r),D(s,r,null),f(r,a),m&&m.m(r,null),f(e,i),f(e,d),f(d,u),D(p,u,null),h=!0},p(o,$){o[6].summary.totalQuantity?m?m.p(o,$):(m=an(o),m.c(),m.m(r,null)):m&&(m.d(1),m=null)},i(o){h||(M(s.$$.fragment,o),M(p.$$.fragment,o),h=!0)},o(o){P(s.$$.fragment,o),P(p.$$.fragment,o),h=!1},d(o){o&&c(e),H(s),m&&m.d(),H(p)}}}function an(n){let e,t=n[6].summary.totalQuantity+"",r;return{c(){e=g("span"),r=F(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var a=b(e);r=R(a,t),a.forEach(c),this.h()},h(){l(e,"class","badge badge-sm badge-info indicator-item")},m(s,a){A(s,e,a),f(e,r)},p(s,a){a&64&&t!==(t=s[6].summary.totalQuantity+"")&&Rt(r,t)},d(s){s&&c(e)}}}function ja(n){let e,t='<input type="checkbox"/> <svg class="swap-off fill-current w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"></path></svg> <svg class="swap-on fill-current w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"></polygon></svg>';return{c(){e=g("label"),e.innerHTML=t,this.h()},l(r){e=_(r,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1vhobe0"&&(e.innerHTML=t),this.h()},h(){l(e,"tabindex","0"),l(e,"class","btn btn-circle swap swap-rotate hidden md:grid")},m(r,s){A(r,e,s)},i:B,o:B,d(r){r&&c(e)}}}function Oa(n){let e,t;return e=new ma({}),{c(){T(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){D(e,r,s),t=!0},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function on(n){let e,t,r,s,a,i,d="Login",u,p,h;return s=new Va({}),{c(){e=g("li"),t=g("a"),r=g("span"),T(s.$$.fragment),a=S(),i=g("b"),i.textContent=d,this.h()},l(m){e=_(m,"LI",{class:!0});var o=b(e);t=_(o,"A",{href:!0,class:!0});var $=b(t);r=_($,"SPAN",{class:!0});var w=b(r);j(s.$$.fragment,w),w.forEach(c),a=L($),i=_($,"B",{"data-svelte-h":!0}),Q(i)!=="svelte-fcn0yp"&&(i.textContent=d),$.forEach(c),o.forEach(c),this.h()},h(){l(r,"class","w-6 h-6 mr-1 stroke-primary"),l(t,"href",null),l(t,"class","modal-button cursor-pointer text-base"),l(e,"class","text-primary")},m(m,o){A(m,e,o),f(e,t),f(t,r),D(s,r,null),f(t,a),f(t,i),u=!0,p||(h=[J(t,"click",n[14]),J(t,"keypress",n[15])],p=!0)},p:B,i(m){u||(M(s.$$.fragment,m),u=!0)},o(m){P(s.$$.fragment,m),u=!1},d(m){m&&c(e),H(s),p=!1,wt(h)}}}function cn(n){let e,t,r,s,a,i,d;return s=new An({}),{c(){e=g("li"),t=g("a"),r=g("div"),T(s.$$.fragment),a=F(" Nostr Universe"),this.h()},l(u){e=_(u,"LI",{class:!0});var p=b(e);t=_(p,"A",{href:!0,rel:!0,class:!0});var h=b(t);r=_(h,"DIV",{class:!0});var m=b(r);j(s.$$.fragment,m),m.forEach(c),a=R(h," Nostr Universe"),h.forEach(c),p.forEach(c),this.h()},h(){l(r,"class","w-6 h-6 mr-1"),l(t,"href","/universe"),l(t,"rel",i=n[0]?"":"external"),l(t,"class","modal-button cursor-pointer text-base"),l(e,"class","block md:hidden md:h-0")},m(u,p){A(u,e,p),f(e,t),f(t,r),D(s,r,null),f(t,a),d=!0},p(u,p){(!d||p&1&&i!==(i=u[0]?"":"external"))&&l(t,"rel",i)},i(u){d||(M(s.$$.fragment,u),d=!0)},o(u){P(s.$$.fragment,u),d=!1},d(u){u&&c(e),H(s)}}}function un(n){let e,t='<span class="text-lg">Account</span>',r,s,a,i,d,u,p,h,m;return d=new ba({}),{c(){e=g("li"),e.innerHTML=t,r=S(),s=g("li"),a=g("a"),i=g("div"),T(d.$$.fragment),u=F(" Me"),this.h()},l(o){e=_(o,"LI",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-tv237y"&&(e.innerHTML=t),r=L(o),s=_(o,"LI",{});var $=b(s);a=_($,"A",{class:!0,rel:!0,href:!0});var w=b(a);i=_(w,"DIV",{class:!0});var v=b(i);j(d.$$.fragment,v),v.forEach(c),u=R(w," Me"),w.forEach(c),$.forEach(c),this.h()},h(){l(e,"class","menu-title mt-1"),l(i,"class","w-6 h-6 mr-1"),l(a,"class","text-base"),l(a,"rel",p=n[0]?"":"external"),l(a,"href",h="/p/"+n[8])},m(o,$){A(o,e,$),A(o,r,$),A(o,s,$),f(s,a),f(a,i),D(d,i,null),f(a,u),m=!0},p(o,$){(!m||$&1&&p!==(p=o[0]?"":"external"))&&l(a,"rel",p),(!m||$&256&&h!==(h="/p/"+o[8]))&&l(a,"href",h)},i(o){m||(M(d.$$.fragment,o),m=!0)},o(o){P(d.$$.fragment,o),m=!1},d(o){o&&(c(e),c(r),c(s)),H(d)}}}function fn(n){let e,t,r,s,a,i,d;return s=new xn({}),{c(){e=g("li"),t=g("a"),r=g("div"),T(s.$$.fragment),a=F(" Stall Manager"),this.h()},l(u){e=_(u,"LI",{});var p=b(e);t=_(p,"A",{class:!0,rel:!0,href:!0});var h=b(t);r=_(h,"DIV",{class:!0});var m=b(r);j(s.$$.fragment,m),m.forEach(c),a=R(h," Stall Manager"),h.forEach(c),p.forEach(c),this.h()},h(){l(r,"class","w-6 h-6 mr-1"),l(t,"class","text-base"),l(t,"rel",i=n[0]?"external":""),l(t,"href","/admin")},m(u,p){A(u,e,p),f(e,t),f(t,r),D(s,r,null),f(t,a),d=!0},p(u,p){(!d||p&1&&i!==(i=u[0]?"external":""))&&l(t,"rel",i)},i(u){d||(M(s.$$.fragment,u),d=!0)},o(u){P(s.$$.fragment,u),d=!1},d(u){u&&c(e),H(s)}}}function dn(n){let e,t,r,s,a,i,d,u,p,h,m,o,$,w,v,k,y,C,E,x,I,V,K,re,se,ne,W,q,Z,Ae,Te,Ce;return s=new Xs({}),h=new Xs({}),k=new Js({}),V=new Js({}),q=new Aa({}),{c(){e=g("li"),t=g("a"),r=g("span"),T(s.$$.fragment),a=F(" My purchases"),i=S(),d=g("li"),u=g("a"),p=g("span"),T(h.$$.fragment),m=F(" My sales"),o=S(),$=g("li"),w=g("a"),v=g("span"),T(k.$$.fragment),y=F(" Buyer Settings"),C=S(),E=g("li"),x=g("a"),I=g("span"),T(V.$$.fragment),K=F(" Seller Settings"),re=S(),se=g("li"),ne=g("a"),W=g("span"),T(q.$$.fragment),Z=F(" Logout"),this.h()},l(O){e=_(O,"LI",{});var ue=b(e);t=_(ue,"A",{class:!0,href:!0});var oe=b(t);r=_(oe,"SPAN",{class:!0});var G=b(r);j(s.$$.fragment,G),G.forEach(c),a=R(oe," My purchases"),oe.forEach(c),ue.forEach(c),i=L(O),d=_(O,"LI",{});var Pe=b(d);u=_(Pe,"A",{class:!0,href:!0});var De=b(u);p=_(De,"SPAN",{class:!0});var je=b(p);j(h.$$.fragment,je),je.forEach(c),m=R(De," My sales"),De.forEach(c),Pe.forEach(c),o=L(O),$=_(O,"LI",{});var ye=b($);w=_(ye,"A",{class:!0,href:!0});var Ie=b(w);v=_(Ie,"SPAN",{class:!0});var Ve=b(v);j(k.$$.fragment,Ve),Ve.forEach(c),y=R(Ie," Buyer Settings"),Ie.forEach(c),ye.forEach(c),C=L(O),E=_(O,"LI",{});var fe=b(E);x=_(fe,"A",{class:!0,href:!0});var Oe=b(x);I=_(Oe,"SPAN",{class:!0});var be=b(I);j(V.$$.fragment,be),be.forEach(c),K=R(Oe," Seller Settings"),Oe.forEach(c),fe.forEach(c),re=L(O),se=_(O,"LI",{});var Me=b(se);ne=_(Me,"A",{href:!0,class:!0});var Ke=b(ne);W=_(Ke,"SPAN",{class:!0});var He=b(W);j(q.$$.fragment,He),He.forEach(c),Z=R(Ke," Logout"),Ke.forEach(c),Me.forEach(c),this.h()},h(){l(r,"class","w-6 h-6 mr-1"),l(t,"class","text-base"),l(t,"href","/orders"),l(p,"class","w-6 h-6 mr-1"),l(u,"class","text-base"),l(u,"href","/admin/account/orders/"),l(v,"class","w-6 h-6 mr-1"),l(w,"class","text-base"),l(w,"href","/settings"),l(I,"class","w-6 h-6 mr-1"),l(x,"class","text-base"),l(x,"href","/admin/account/settings"),l(W,"class","w-6 h-6 mr-1"),l(ne,"href",null),l(ne,"class","modal-button cursor-pointer text-base")},m(O,ue){A(O,e,ue),f(e,t),f(t,r),D(s,r,null),f(t,a),A(O,i,ue),A(O,d,ue),f(d,u),f(u,p),D(h,p,null),f(u,m),A(O,o,ue),A(O,$,ue),f($,w),f(w,v),D(k,v,null),f(w,y),A(O,C,ue),A(O,E,ue),f(E,x),f(x,I),D(V,I,null),f(x,K),A(O,re,ue),A(O,se,ue),f(se,ne),f(ne,W),D(q,W,null),f(ne,Z),Ae=!0,Te||(Ce=J(ne,"click",n[16]),Te=!0)},p:B,i(O){Ae||(M(s.$$.fragment,O),M(h.$$.fragment,O),M(k.$$.fragment,O),M(V.$$.fragment,O),M(q.$$.fragment,O),Ae=!0)},o(O){P(s.$$.fragment,O),P(h.$$.fragment,O),P(k.$$.fragment,O),P(V.$$.fragment,O),P(q.$$.fragment,O),Ae=!1},d(O){O&&(c(e),c(i),c(d),c(o),c($),c(C),c(E),c(re),c(se)),H(s),H(h),H(k),H(V),H(q),Te=!1,Ce()}}}function hn(n){let e,t='<span class="text-lg">Other information</span>';return{c(){e=g("li"),e.innerHTML=t,this.h()},l(r){e=_(r,"LI",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-18udsdv"&&(e.innerHTML=t),this.h()},h(){l(e,"class","menu-title mt-2 text-base")},m(r,s){A(r,e,s)},d(r){r&&c(e)}}}function za(n){let e,t,r,s,a,i,d,u,p,h,m="Plebeian Market",o,$,w,v,k,y,C,E,x,I,V,K,re,se,ne,W,q,Z,Ae,Te,Ce,O,ue,oe,G,Pe='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg>',De,je,ye,Ie,Ve,fe,Oe,be,Me,Ke,He,We,_r,kt,ct,vr,$t,ut,br,wr,ze,Ue,qe,Kt,z,Wt,yt,Ge,Et,ft,kr,Gt,$r,Zt,Qt,Yt,Jt,dt,Jr='<span class="text-lg">Community</span>',yr,xt,Ze,Ct,ht,Er,Xt,xr,It,Qe,Mt,mt,Cr,er,Ir,At,Ye,Nt,pt,Mr,tr,Ar,rr,Tt,Je,St,gt,Nr,sr,Sr,Dt,Xe,Lt,_t,Lr,nr,Pr,Ht,et,Fe,vt,Vr,lr,Br,ar,lt,de,Tr,Xr,Ne=n[5]&&tn(n),Se=(n[6].summary.totalQuantity||n[7].unreadConversations)&&rn(n),we=n[0]&&sn(),ke=n[0]&&nn();We=new Ea({}),ct=new $a({}),ut=new fa({});let he=n[0]&&ln(n);const es=[Oa,ja],bt=[];function ts(N,U){return N[8]?0:1}Ue=ts(n),qe=bt[Ue]=es[Ue](n);let me=!n[8]&&on(n);ft=new An({});let pe=n[5]&&cn(n),ge=n[8]&&un(n),_e=(!n[0]||n[0]&&n[9].backend_present)&&fn(n),ve=n[8]&&dn(n);ht=new Ca({}),mt=new xn({}),pt=new en({});let Le=n[8]&&hn();gt=new Sa({}),_t=new en({});let Sn={content:null};return lt=new Zl({props:Sn}),n[17](lt),{c(){e=g("nav"),t=g("div"),r=g("div"),s=g("a"),a=g("div"),i=g("img"),u=S(),p=S(),h=g("h1"),h.textContent=m,$=S(),w=g("div"),v=g("div"),k=g("p"),y=g("a"),C=F("Stall Browser"),I=S(),V=g("p"),K=g("a"),re=F("Market Square"),W=S(),q=g("p"),Z=g("a"),Ae=F("Plebeian Planet"),O=S(),Ne&&Ne.c(),ue=S(),oe=g("div"),G=g("button"),G.innerHTML=Pe,De=S(),Se&&Se.c(),je=S(),we&&we.c(),ye=S(),Ie=g("div"),Ve=g("div"),fe=g("div"),ke&&ke.c(),Oe=S(),be=g("label"),Me=g("input"),Ke=S(),He=g("div"),T(We.$$.fragment),_r=S(),kt=g("div"),T(ct.$$.fragment),vr=S(),$t=g("div"),T(ut.$$.fragment),br=S(),he&&he.c(),wr=S(),ze=g("div"),qe.c(),Kt=S(),z=g("ul"),me&&me.c(),Wt=S(),yt=g("li"),Ge=g("a"),Et=g("div"),T(ft.$$.fragment),kr=F(" Plebeian Planet"),$r=S(),pe&&pe.c(),Zt=S(),ge&&ge.c(),Qt=S(),_e&&_e.c(),Yt=S(),ve&&ve.c(),Jt=S(),dt=g("li"),dt.innerHTML=Jr,yr=S(),xt=g("li"),Ze=g("a"),Ct=g("span"),T(ht.$$.fragment),Er=F(" Home"),xr=S(),It=g("li"),Qe=g("a"),Mt=g("div"),T(mt.$$.fragment),Cr=F(" Stall Browser"),Ir=S(),At=g("li"),Ye=g("a"),Nt=g("div"),T(pt.$$.fragment),Mr=F(" Market Square"),Ar=S(),Le&&Le.c(),rr=S(),Tt=g("li"),Je=g("a"),St=g("span"),T(gt.$$.fragment),Nr=F(" FAQ"),Sr=S(),Dt=g("li"),Xe=g("a"),Lt=g("div"),T(_t.$$.fragment),Lr=F(" Contact"),Pr=S(),Ht=g("li"),et=g("a"),Fe=ee("svg"),vt=ee("path"),Vr=F(`
                                About`),Br=S(),ar=S(),T(lt.$$.fragment),this.h()},l(N){e=_(N,"NAV",{class:!0,"data-sveltekit-preload-data":!0});var U=b(e);t=_(U,"DIV",{class:!0});var tt=b(t);r=_(tt,"DIV",{class:!0});var at=b(r);s=_(at,"A",{href:!0,rel:!0,class:!0});var rs=b(s);a=_(rs,"DIV",{class:!0});var jt=b(a);i=_(jt,"IMG",{src:!0,class:!0,alt:!0}),u=L(jt),p=L(jt),h=_(jt,"H1",{class:!0,"data-svelte-h":!0}),Q(h)!=="svelte-avgkt5"&&(h.textContent=m),jt.forEach(c),rs.forEach(c),$=L(at),w=_(at,"DIV",{class:!0});var ss=b(w);v=_(ss,"DIV",{class:!0});var it=b(v);k=_(it,"P",{class:!0});var ns=b(k);y=_(ns,"A",{href:!0,rel:!0,class:!0});var ls=b(y);C=R(ls,"Stall Browser"),ls.forEach(c),ns.forEach(c),I=L(it),V=_(it,"P",{class:!0});var as=b(V);K=_(as,"A",{href:!0,rel:!0,class:!0});var is=b(K);re=R(is,"Market Square"),is.forEach(c),as.forEach(c),W=L(it),q=_(it,"P",{class:!0});var os=b(q);Z=_(os,"A",{href:!0,rel:!0,class:!0});var cs=b(Z);Ae=R(cs,"Plebeian Planet"),cs.forEach(c),os.forEach(c),O=L(it),Ne&&Ne.l(it),it.forEach(c),ss.forEach(c),ue=L(at),oe=_(at,"DIV",{class:!0});var ir=b(oe);G=_(ir,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(G)!=="svelte-qc0yy8"&&(G.innerHTML=Pe),De=L(ir),Se&&Se.l(ir),ir.forEach(c),at.forEach(c),je=L(tt),we&&we.l(tt),ye=L(tt),Ie=_(tt,"DIV",{class:!0});var us=b(Ie);Ve=_(us,"DIV",{class:!0});var or=b(Ve);fe=_(or,"DIV",{class:!0});var ot=b(fe);ke&&ke.l(ot),Oe=L(ot),be=_(ot,"LABEL",{tabindex:!0,class:!0});var Pt=b(be);Me=_(Pt,"INPUT",{type:!0}),Ke=L(Pt),He=_(Pt,"DIV",{class:!0});var fs=b(He);j(We.$$.fragment,fs),fs.forEach(c),_r=L(Pt),kt=_(Pt,"DIV",{class:!0});var ds=b(kt);j(ct.$$.fragment,ds),ds.forEach(c),Pt.forEach(c),vr=L(ot),$t=_(ot,"DIV",{class:!0});var hs=b($t);j(ut.$$.fragment,hs),hs.forEach(c),br=L(ot),he&&he.l(ot),ot.forEach(c),wr=L(or),ze=_(or,"DIV",{class:!0});var cr=b(ze);qe.l(cr),Kt=L(cr),z=_(cr,"UL",{role:!0,tabindex:!0,class:!0});var Y=b(z);me&&me.l(Y),Wt=L(Y),yt=_(Y,"LI",{class:!0});var ms=b(yt);Ge=_(ms,"A",{href:!0,rel:!0,class:!0});var Dr=b(Ge);Et=_(Dr,"DIV",{class:!0});var ps=b(Et);j(ft.$$.fragment,ps),ps.forEach(c),kr=R(Dr," Plebeian Planet"),Dr.forEach(c),ms.forEach(c),$r=L(Y),pe&&pe.l(Y),Zt=L(Y),ge&&ge.l(Y),Qt=L(Y),_e&&_e.l(Y),Yt=L(Y),ve&&ve.l(Y),Jt=L(Y),dt=_(Y,"LI",{class:!0,"data-svelte-h":!0}),Q(dt)!=="svelte-u1npi6"&&(dt.innerHTML=Jr),yr=L(Y),xt=_(Y,"LI",{class:!0});var gs=b(xt);Ze=_(gs,"A",{href:!0,rel:!0,class:!0});var Hr=b(Ze);Ct=_(Hr,"SPAN",{class:!0});var _s=b(Ct);j(ht.$$.fragment,_s),_s.forEach(c),Er=R(Hr," Home"),Hr.forEach(c),gs.forEach(c),xr=L(Y),It=_(Y,"LI",{class:!0});var vs=b(It);Qe=_(vs,"A",{href:!0,rel:!0,class:!0});var jr=b(Qe);Mt=_(jr,"DIV",{class:!0});var bs=b(Mt);j(mt.$$.fragment,bs),bs.forEach(c),Cr=R(jr," Stall Browser"),jr.forEach(c),vs.forEach(c),Ir=L(Y),At=_(Y,"LI",{class:!0});var ws=b(At);Ye=_(ws,"A",{href:!0,rel:!0,class:!0});var Or=b(Ye);Nt=_(Or,"DIV",{class:!0});var ks=b(Nt);j(pt.$$.fragment,ks),ks.forEach(c),Mr=R(Or," Market Square"),Or.forEach(c),ws.forEach(c),Ar=L(Y),Le&&Le.l(Y),rr=L(Y),Tt=_(Y,"LI",{});var $s=b(Tt);Je=_($s,"A",{href:!0,rel:!0,class:!0});var zr=b(Je);St=_(zr,"SPAN",{class:!0});var ys=b(St);j(gt.$$.fragment,ys),ys.forEach(c),Nr=R(zr," FAQ"),zr.forEach(c),$s.forEach(c),Sr=L(Y),Dt=_(Y,"LI",{});var Es=b(Dt);Xe=_(Es,"A",{href:!0,rel:!0,class:!0});var Ur=b(Xe);Lt=_(Ur,"DIV",{class:!0});var xs=b(Lt);j(_t.$$.fragment,xs),xs.forEach(c),Lr=R(Ur," Contact"),Ur.forEach(c),Es.forEach(c),Pr=L(Y),Ht=_(Y,"LI",{});var Cs=b(Ht);et=_(Cs,"A",{href:!0,rel:!0,class:!0});var qr=b(et);Fe=te(qr,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Is=b(Fe);vt=te(Is,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(vt).forEach(c),Is.forEach(c),Vr=R(qr,`
                                About`),qr.forEach(c),Cs.forEach(c),Br=L(Y),Y.forEach(c),cr.forEach(c),or.forEach(c),us.forEach(c),tt.forEach(c),U.forEach(c),ar=L(N),j(lt.$$.fragment,N),this.h()},h(){Wr(i.src,d="/images/logo.png")||l(i,"src",d),l(i,"class","mr-3 h-9 rounded"),l(i,"alt","Plebeian Technology"),l(h,"class","w-52 2xl:w-64 3xl:w-72 text-base lg:text-lg 2xl:text-xl font-bold hover:text-blue-400 duration-300"),l(a,"class","flex items-center space-x-2"),l(s,"href","/"),l(s,"rel",o=n[0]?"":"external"),l(s,"class","flex items-center mr-2 indicator"),l(y,"href","/stalls"),l(y,"rel",E=n[0]?"":"external"),l(y,"class",x="btn btn-ghost normal-case "+(n[4].url.pathname==="/stalls"?"underline":"")),l(k,"class","ml-24 mr-8"),l(K,"href","/marketsquare"),l(K,"rel",se=n[0]?"":"external"),l(K,"class",ne="btn btn-ghost normal-case "+(n[4].url.pathname==="/marketsquare"?"underline":"")),l(V,"class","mr-8"),l(Z,"href","/planet"),l(Z,"rel",Te=n[0]?"":"external"),l(Z,"class",Ce="btn btn-ghost normal-case "+(n[4].url.pathname==="/planet"?"underline":"")),l(q,"class","mr-8"),l(v,"class","hidden lg:flex"),l(w,"class","lg:flex items-right w-full"),l(G,"type","button"),l(G,"class","text-black-800 dark:text-gray-200 focus:outline-none"),l(oe,"class","lg:hidden flex justify-end p-2 -mr-3"),l(r,"class","flex items-center justify-between"),l(Me,"type","checkbox"),l(He,"class","swap-off size-8 3xl:size-9"),l(kt,"class","swap-on size-8 3xl:size-9"),l(be,"tabindex","0"),l(be,"class","swap swap-rotate mr-2 3xl:mr-3"),l($t,"class","btn btn-ghost btn-circle mr-1 3xl:mr-3"),l(fe,"class","float-right"),l(Et,"class","w-6 h-6 mr-1"),l(Ge,"href","/planet"),l(Ge,"rel",Gt=n[0]?"":"external"),l(Ge,"class","modal-button cursor-pointer text-base"),l(yt,"class","block md:hidden md:h-0"),l(dt,"class","block md:hidden md:h-0 menu-title mt-1"),l(Ct,"class","w-6 h-6 mr-1"),l(Ze,"href","/"),l(Ze,"rel",Xt=n[0]?"":"external"),l(Ze,"class","modal-button cursor-pointer text-base"),l(xt,"class","block md:hidden md:h-0"),l(Mt,"class","w-6 h-6 mr-1"),l(Qe,"href","/stalls"),l(Qe,"rel",er=n[0]?"":"external"),l(Qe,"class","modal-button cursor-pointer text-base"),l(It,"class","block md:hidden md:h-0"),l(Nt,"class","w-6 h-6 mr-1"),l(Ye,"href","/marketsquare"),l(Ye,"rel",tr=n[0]?"":"external"),l(Ye,"class","modal-button cursor-pointer text-base"),l(At,"class","block md:hidden md:h-0"),l(St,"class","w-6 h-6 mr-1"),l(Je,"href","/faq"),l(Je,"rel",sr=n[0]?"":"external"),l(Je,"class","modal-button cursor-pointer text-base"),l(Lt,"class","w-6 h-6 mr-1"),l(Xe,"href","/contact"),l(Xe,"rel",nr=n[0]?"":"external"),l(Xe,"class","text-base"),l(vt,"stroke-linecap","round"),l(vt,"stroke-linejoin","round"),l(vt,"d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"),l(Fe,"xmlns","http://www.w3.org/2000/svg"),l(Fe,"fill","none"),l(Fe,"viewBox","0 0 24 24"),l(Fe,"stroke-width","1.5"),l(Fe,"stroke","currentColor"),l(Fe,"class","w-6 h-6 mr-1"),l(et,"href","/about"),l(et,"rel",lr=n[0]?"":"external"),l(et,"class","modal-button cursor-pointer text-base"),l(z,"role","menuitem"),l(z,"tabindex","0"),l(z,"class","float-right right-2 w-60 z-40 p-2 shadow menu menu-compact dropdown-content bg-base-300 text-accent-contend rounded-box md:border border-neutral-300"),l(ze,"class","lg:dropdown lg:dropdown-end h-screen lg:h-fit clear-both"),l(Ve,"class","lg:flex items-center justify-start 3xl:space-x-2"),l(Ie,"class","lg:flex lg:flex-row flex-col justify-center space-y-0"),Be(Ie,"flex",n[3]),Be(Ie,"hidden",!n[3]),l(t,"class","3xl:w-11/12 p-2 mx-auto lg:flex lg:flex-row flex-col md:justify-between md:items-center"),l(e,"class","fixed top-0 w-full backdrop-blur-3xl border-b border-gray-400/70 z-50"),l(e,"data-sveltekit-preload-data","hover")},m(N,U){A(N,e,U),f(e,t),f(t,r),f(r,s),f(s,a),f(a,i),f(a,u),f(a,p),f(a,h),f(r,$),f(r,w),f(w,v),f(v,k),f(k,y),f(y,C),f(v,I),f(v,V),f(V,K),f(K,re),f(v,W),f(v,q),f(q,Z),f(Z,Ae),f(v,O),Ne&&Ne.m(v,null),f(r,ue),f(r,oe),f(oe,G),f(oe,De),Se&&Se.m(oe,null),f(t,je),we&&we.m(t,null),f(t,ye),f(t,Ie),f(Ie,Ve),f(Ve,fe),ke&&ke.m(fe,null),f(fe,Oe),f(fe,be),f(be,Me),Me.checked=n[2],f(be,Ke),f(be,He),D(We,He,null),f(be,_r),f(be,kt),D(ct,kt,null),f(fe,vr),f(fe,$t),D(ut,$t,null),f(fe,br),he&&he.m(fe,null),f(Ve,wr),f(Ve,ze),bt[Ue].m(ze,null),f(ze,Kt),f(ze,z),me&&me.m(z,null),f(z,Wt),f(z,yt),f(yt,Ge),f(Ge,Et),D(ft,Et,null),f(Ge,kr),f(z,$r),pe&&pe.m(z,null),f(z,Zt),ge&&ge.m(z,null),f(z,Qt),_e&&_e.m(z,null),f(z,Yt),ve&&ve.m(z,null),f(z,Jt),f(z,dt),f(z,yr),f(z,xt),f(xt,Ze),f(Ze,Ct),D(ht,Ct,null),f(Ze,Er),f(z,xr),f(z,It),f(It,Qe),f(Qe,Mt),D(mt,Mt,null),f(Qe,Cr),f(z,Ir),f(z,At),f(At,Ye),f(Ye,Nt),D(pt,Nt,null),f(Ye,Mr),f(z,Ar),Le&&Le.m(z,null),f(z,rr),f(z,Tt),f(Tt,Je),f(Je,St),D(gt,St,null),f(Je,Nr),f(z,Sr),f(z,Dt),f(Dt,Xe),f(Xe,Lt),D(_t,Lt,null),f(Xe,Lr),f(z,Pr),f(z,Ht),f(Ht,et),f(et,Fe),f(Fe,vt),f(et,Vr),f(z,Br),A(N,ar,U),D(lt,N,U),de=!0,Tr||(Xr=[J(oe,"click",n[10]),J(oe,"keydown",n[10]),J(Me,"change",n[13]),J(be,"click",n[12]),J(be,"keypress",n[12]),J(ze,"click",n[11]),J(ze,"keydown",n[11])],Tr=!0)},p(N,[U]){(!de||U&1&&o!==(o=N[0]?"":"external"))&&l(s,"rel",o),(!de||U&1&&E!==(E=N[0]?"":"external"))&&l(y,"rel",E),(!de||U&16&&x!==(x="btn btn-ghost normal-case "+(N[4].url.pathname==="/stalls"?"underline":"")))&&l(y,"class",x),(!de||U&1&&se!==(se=N[0]?"":"external"))&&l(K,"rel",se),(!de||U&16&&ne!==(ne="btn btn-ghost normal-case "+(N[4].url.pathname==="/marketsquare"?"underline":"")))&&l(K,"class",ne),(!de||U&1&&Te!==(Te=N[0]?"":"external"))&&l(Z,"rel",Te),(!de||U&16&&Ce!==(Ce="btn btn-ghost normal-case "+(N[4].url.pathname==="/planet"?"underline":"")))&&l(Z,"class",Ce),N[5]?Ne?Ne.p(N,U):(Ne=tn(N),Ne.c(),Ne.m(v,null)):Ne&&(Ne.d(1),Ne=null),N[6].summary.totalQuantity||N[7].unreadConversations?Se?Se.p(N,U):(Se=rn(N),Se.c(),Se.m(oe,null)):Se&&(Se.d(1),Se=null),N[0]?we?U&1&&M(we,1):(we=sn(),we.c(),M(we,1),we.m(t,ye)):we&&(Ee(),P(we,1,1,()=>{we=null}),xe()),N[0]?ke?U&1&&M(ke,1):(ke=nn(),ke.c(),M(ke,1),ke.m(fe,Oe)):ke&&(Ee(),P(ke,1,1,()=>{ke=null}),xe()),U&4&&(Me.checked=N[2]),N[0]?he?(he.p(N,U),U&1&&M(he,1)):(he=ln(N),he.c(),M(he,1),he.m(fe,null)):he&&(Ee(),P(he,1,1,()=>{he=null}),xe());let tt=Ue;Ue=ts(N),Ue!==tt&&(Ee(),P(bt[tt],1,1,()=>{bt[tt]=null}),xe(),qe=bt[Ue],qe||(qe=bt[Ue]=es[Ue](N),qe.c()),M(qe,1),qe.m(ze,Kt)),N[8]?me&&(Ee(),P(me,1,1,()=>{me=null}),xe()):me?(me.p(N,U),U&256&&M(me,1)):(me=on(N),me.c(),M(me,1),me.m(z,Wt)),(!de||U&1&&Gt!==(Gt=N[0]?"":"external"))&&l(Ge,"rel",Gt),N[5]?pe?(pe.p(N,U),U&32&&M(pe,1)):(pe=cn(N),pe.c(),M(pe,1),pe.m(z,Zt)):pe&&(Ee(),P(pe,1,1,()=>{pe=null}),xe()),N[8]?ge?(ge.p(N,U),U&256&&M(ge,1)):(ge=un(N),ge.c(),M(ge,1),ge.m(z,Qt)):ge&&(Ee(),P(ge,1,1,()=>{ge=null}),xe()),!N[0]||N[0]&&N[9].backend_present?_e?(_e.p(N,U),U&513&&M(_e,1)):(_e=fn(N),_e.c(),M(_e,1),_e.m(z,Yt)):_e&&(Ee(),P(_e,1,1,()=>{_e=null}),xe()),N[8]?ve?(ve.p(N,U),U&256&&M(ve,1)):(ve=dn(N),ve.c(),M(ve,1),ve.m(z,Jt)):ve&&(Ee(),P(ve,1,1,()=>{ve=null}),xe()),(!de||U&1&&Xt!==(Xt=N[0]?"":"external"))&&l(Ze,"rel",Xt),(!de||U&1&&er!==(er=N[0]?"":"external"))&&l(Qe,"rel",er),(!de||U&1&&tr!==(tr=N[0]?"":"external"))&&l(Ye,"rel",tr),N[8]?Le||(Le=hn(),Le.c(),Le.m(z,rr)):Le&&(Le.d(1),Le=null),(!de||U&1&&sr!==(sr=N[0]?"":"external"))&&l(Je,"rel",sr),(!de||U&1&&nr!==(nr=N[0]?"":"external"))&&l(Xe,"rel",nr),(!de||U&1&&lr!==(lr=N[0]?"":"external"))&&l(et,"rel",lr),(!de||U&8)&&Be(Ie,"flex",N[3]),(!de||U&8)&&Be(Ie,"hidden",!N[3]);const at={};lt.$set(at)},i(N){de||(M(we),M(ke),M(We.$$.fragment,N),M(ct.$$.fragment,N),M(ut.$$.fragment,N),M(he),M(qe),M(me),M(ft.$$.fragment,N),M(pe),M(ge),M(_e),M(ve),M(ht.$$.fragment,N),M(mt.$$.fragment,N),M(pt.$$.fragment,N),M(gt.$$.fragment,N),M(_t.$$.fragment,N),M(lt.$$.fragment,N),de=!0)},o(N){P(we),P(ke),P(We.$$.fragment,N),P(ct.$$.fragment,N),P(ut.$$.fragment,N),P(he),P(qe),P(me),P(ft.$$.fragment,N),P(pe),P(ge),P(_e),P(ve),P(ht.$$.fragment,N),P(mt.$$.fragment,N),P(pt.$$.fragment,N),P(gt.$$.fragment,N),P(_t.$$.fragment,N),P(lt.$$.fragment,N),de=!1},d(N){N&&(c(e),c(ar)),Ne&&Ne.d(),Se&&Se.d(),we&&we.d(),ke&&ke.d(),H(We),H(ct),H(ut),he&&he.d(),bt[Ue].d(),me&&me.d(),H(ft),pe&&pe.d(),ge&&ge.d(),_e&&_e.d(),ve&&ve.d(),H(ht),H(mt),H(pt),Le&&Le.d(),H(gt),H(_t),n[17](null),H(lt,N),Tr=!1,wt(Xr)}}}function Ua(n,e,t){let r,s,a,i,d,u;X(n,Qr,V=>t(4,r=V)),X(n,Rr,V=>t(5,s=V)),X(n,Un,V=>t(6,a=V)),X(n,$e,V=>t(7,i=V)),X(n,st,V=>t(8,d=V)),X(n,Zr,V=>t(9,u=V));let{isFrontOffice:p=!0}=e,h,m=!1,o=!1;function $(){t(3,o=!o),document.body.style.overflow=o?"hidden":""}function w(){t(3,o=!1),document.body.style.overflow=""}function v(){let V=document.querySelector("html");m?(V.dataset.theme="light",localStorage.theme="light"):(V.dataset.theme="dark",localStorage.theme="dark")}async function k(){Fn.set(await ml())}Bt(async()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t(2,m=!0):t(2,m=!1),p||k()}),qn(()=>{w()});function y(){m=this.checked,t(2,m)}const C=()=>{Ns(),w()},E=()=>{Ns(),w()},x=()=>{Rn(),w()};function I(V){Xn[V?"unshift":"push"](()=>{h=V,t(1,h)})}return n.$$set=V=>{"isFrontOffice"in V&&t(0,p=V.isFrontOffice)},[p,h,m,o,r,s,a,i,d,u,$,w,v,y,C,E,x,I]}class qa extends ae{constructor(e){super(),ie(this,e,Ua,za,le,{isFrontOffice:0})}}function mn(n){let e,t,r,s,a,i,d,u='Now you need to <b><span class="text-secondary">provide contact and shipping information</span></b> to the merchant.',p,h,m="Send information",o,$,w,v;t=new Yr({});function k(E,x){return E[0].length>1?Ra:Fa}let y=k(n),C=y(n);return{c(){e=g("div"),T(t.$$.fragment),r=S(),s=g("div"),a=g("h3"),C.c(),i=S(),d=g("p"),d.innerHTML=u,p=S(),h=g("button"),h.textContent=m,this.h()},l(E){e=_(E,"DIV",{class:!0});var x=b(e);j(t.$$.fragment,x),r=L(x),s=_(x,"DIV",{class:!0});var I=b(s);a=_(I,"H3",{class:!0});var V=b(a);C.l(V),V.forEach(c),i=L(I),d=_(I,"P",{"data-svelte-h":!0}),Q(d)!=="svelte-dod0qt"&&(d.innerHTML=u),p=L(I),h=_(I,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(h)!=="svelte-1brkuvw"&&(h.textContent=m),I.forEach(c),x.forEach(c),this.h()},h(){l(a,"class","font-bold"),l(h,"class","btn btn-success mt-4"),l(s,"class","ml-4"),l(e,"class",o="alert alert-info shadow-lg lg:p-6 mt-6 lg:mt-2 "+(n[1].url.pathname==="/"?"w-10/12 mx-auto mb-8":""))},m(E,x){A(E,e,x),D(t,e,null),f(e,r),f(e,s),f(s,a),C.m(a,null),f(s,i),f(s,d),f(s,p),f(s,h),$=!0,w||(v=J(h,"click",n[4]),w=!0)},p(E,x){y===(y=k(E))&&C?C.p(E,x):(C.d(1),C=y(E),C&&(C.c(),C.m(a,null))),(!$||x&2&&o!==(o="alert alert-info shadow-lg lg:p-6 mt-6 lg:mt-2 "+(E[1].url.pathname==="/"?"w-10/12 mx-auto mb-8":"")))&&l(e,"class",o)},i(E){$||(M(t.$$.fragment,E),$=!0)},o(E){P(t.$$.fragment,E),$=!1},d(E){E&&c(e),H(t),C.d(),w=!1,v()}}}function Fa(n){let e;return{c(){e=F("You won one auction!")},l(t){e=R(t,"You won one auction!")},m(t,r){A(t,e,r)},p:B,d(t){t&&c(e)}}}function Ra(n){let e,t=n[0].length+"",r,s;return{c(){e=F("You won "),r=F(t),s=F(" auctions!")},l(a){e=R(a,"You won "),r=R(a,t),s=R(a," auctions!")},m(a,i){A(a,e,i),A(a,r,i),A(a,s,i)},p(a,i){i&1&&t!==(t=a[0].length+"")&&Rt(r,t)},d(a){a&&(c(e),c(r),c(s))}}}function Ka(n){let e,t,r=n[1].url.pathname!=="/auctions"&&n[2]&&n[0].length>0&&mn(n);return{c(){r&&r.c(),e=nt()},l(s){r&&r.l(s),e=nt()},m(s,a){r&&r.m(s,a),A(s,e,a),t=!0},p(s,[a]){s[1].url.pathname!=="/auctions"&&s[2]&&s[0].length>0?r?(r.p(s,a),a&7&&M(r,1)):(r=mn(s),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(Ee(),P(r,1,1,()=>{r=null}),xe())},i(s){t||(M(r),t=!0)},o(s){P(r),t=!1},d(s){s&&c(e),r&&r.d(s)}}}function Wa(n,e,t){let r,s,a;X(n,$e,u=>t(3,r=u)),X(n,Qr,u=>t(1,s=u)),X(n,st,u=>t(2,a=u));let i;const d=()=>vn("/auctions");return n.$$.update=()=>{n.$$.dirty&8&&t(0,i=Object.entries(r.automatic).filter(([,u])=>u.type===10).sort((u,p)=>p[1].created_at-u[1].created_at))},[i,s,a,r,d]}class Ga extends ae{constructor(e){super(),ie(this,e,Wa,Ka,le,{})}}function Za(n){let e,t;return e=new Ga({}),{c(){T(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){D(e,r,s),t=!0},p:B,i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}class Qa extends ae{constructor(e){super(),ie(this,e,null,Za,le,{})}}function Ya(n){let e,t;return{c(){e=ee("svg"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{xmlns:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0,style:!0});var s=b(e);t=te(s,"path",{fill:!0,d:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){l(t,"fill","currentColor"),l(t,"d","M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11L22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","24"),l(e,"height","24"),l(e,"preserveAspectRatio","xMidYMid meet"),l(e,"viewBox","0 0 24 24"),Ut(e,"-ms-transform","rotate(360deg)"),Ut(e,"-webkit-transform","rotate(360deg)"),Ut(e,"transform","rotate(360deg)")},m(r,s){A(r,e,s),f(e,t)},p:B,i:B,o:B,d(r){r&&c(e)}}}class Ja extends ae{constructor(e){super(),ie(this,e,null,Ya,le,{})}}function Xa(n){let e,t,r,s='<span class="lg:text-4xl text-3xl font-bold">Plug into the Bitcoin Economy</span> <div class="lg:flex lg:space-x-4 my-6 gap-4 mt-2"><p>✓ Built for Nostr</p> <p>✓ Bitcoin only</p> <p>✓ Lightning tech</p> <p>✓ Value4Value</p> <p>✓ Peer2Peer</p></div>',a,i,d,u,p,h,m,o,$,w,v,k,y,C,E,x,I,V,K,re,se,ne,W,q,Z,Ae,Te,Ce,O,ue,oe;return p=new _l({}),o=new Ja({}),v=new vl({}),C=new bl({}),I=new wl({}),{c(){e=g("footer"),t=g("div"),r=g("div"),r.innerHTML=s,a=S(),i=g("div"),d=g("div"),u=g("a"),T(p.$$.fragment),h=S(),m=g("a"),T(o.$$.fragment),$=S(),w=g("a"),T(v.$$.fragment),k=S(),y=g("a"),T(C.$$.fragment),E=S(),x=g("a"),T(I.$$.fragment),V=S(),K=g("div"),re=g("a"),se=F("FAQ"),W=F(` -
                `),q=g("a"),Z=F("Contact"),Te=F(` -
                `),Ce=g("a"),O=F("About"),this.h()},l(G){e=_(G,"FOOTER",{class:!0,"data-sveltekit-preload-data":!0});var Pe=b(e);t=_(Pe,"DIV",{class:!0});var De=b(t);r=_(De,"DIV",{"data-svelte-h":!0}),Q(r)!=="svelte-1xb4127"&&(r.innerHTML=s),a=L(De),i=_(De,"DIV",{class:!0});var je=b(i);d=_(je,"DIV",{});var ye=b(d);u=_(ye,"A",{class:!0,target:!0,rel:!0,href:!0});var Ie=b(u);j(p.$$.fragment,Ie),Ie.forEach(c),h=L(ye),m=_(ye,"A",{class:!0,target:!0,rel:!0,href:!0});var Ve=b(m);j(o.$$.fragment,Ve),Ve.forEach(c),$=L(ye),w=_(ye,"A",{class:!0,target:!0,rel:!0,href:!0});var fe=b(w);j(v.$$.fragment,fe),fe.forEach(c),k=L(ye),y=_(ye,"A",{class:!0,target:!0,rel:!0,href:!0});var Oe=b(y);j(C.$$.fragment,Oe),Oe.forEach(c),E=L(ye),x=_(ye,"A",{class:!0,target:!0,rel:!0,href:!0});var be=b(x);j(I.$$.fragment,be),be.forEach(c),ye.forEach(c),V=L(je),K=_(je,"DIV",{class:!0});var Me=b(K);re=_(Me,"A",{href:!0,rel:!0,class:!0});var Ke=b(re);se=R(Ke,"FAQ"),Ke.forEach(c),W=R(Me,` -
                `),q=_(Me,"A",{href:!0,rel:!0,class:!0});var He=b(q);Z=R(He,"Contact"),He.forEach(c),Te=R(Me,` -
                `),Ce=_(Me,"A",{href:!0,rel:!0,class:!0});var We=b(Ce);O=R(We,"About"),We.forEach(c),Me.forEach(c),je.forEach(c),De.forEach(c),Pe.forEach(c),this.h()},h(){l(u,"class","btn btn-ghost align-middle w-16 h-16"),l(u,"target","_blank"),l(u,"rel","noreferrer"),l(u,"href","https://snort.social/p/npub1market6g3zl4mxwx5ugw56hfg0f7dy7jnnw8t380788mvdyrnwuqgep7hd"),l(m,"class","btn btn-ghost align-middle"),l(m,"target","_blank"),l(m,"rel","noreferrer"),l(m,"href","https://plebeianmarket.substack.com/"),l(w,"class","btn btn-ghost align-middle"),l(w,"target","_blank"),l(w,"rel","noreferrer"),l(w,"href","https://t.me/PlebeianMarket"),l(y,"class","btn btn-ghost align-middle"),l(y,"target","_blank"),l(y,"rel","noreferrer"),l(y,"href","https://twitter.com/PlebeianMarket"),l(x,"class","btn btn-ghost align-middle"),l(x,"target","_blank"),l(x,"rel","noreferrer"),l(x,"href","https://github.com/PlebeianTech/plebeian-market"),l(re,"href","/faq"),l(re,"rel",ne=n[0]?"":"external"),l(re,"class","btn btn-ghost normal-case text-lg"),l(q,"href","/contact"),l(q,"rel",Ae=n[0]?"":"external"),l(q,"class","btn btn-ghost normal-case text-lg"),l(Ce,"href","/about"),l(Ce,"rel",ue=n[0]?"":"external"),l(Ce,"class","btn btn-ghost normal-case text-lg"),l(K,"class","mt-4 text-2xl"),l(i,"class","grid space-y-1 mt-6 md:mt-0 justify-center"),l(t,"class","lg:w-2/3 mx-auto w-full lg:flex items-center justify-between py-4 pb-0"),l(e,"class","text-neutral-content bg-neutral border-t border-white/20 p-4 pb-0"),l(e,"data-sveltekit-preload-data","hover")},m(G,Pe){A(G,e,Pe),f(e,t),f(t,r),f(t,a),f(t,i),f(i,d),f(d,u),D(p,u,null),f(d,h),f(d,m),D(o,m,null),f(d,$),f(d,w),D(v,w,null),f(d,k),f(d,y),D(C,y,null),f(d,E),f(d,x),D(I,x,null),f(i,V),f(i,K),f(K,re),f(re,se),f(K,W),f(K,q),f(q,Z),f(K,Te),f(K,Ce),f(Ce,O),oe=!0},p(G,[Pe]){(!oe||Pe&1&&ne!==(ne=G[0]?"":"external"))&&l(re,"rel",ne),(!oe||Pe&1&&Ae!==(Ae=G[0]?"":"external"))&&l(q,"rel",Ae),(!oe||Pe&1&&ue!==(ue=G[0]?"":"external"))&&l(Ce,"rel",ue)},i(G){oe||(M(p.$$.fragment,G),M(o.$$.fragment,G),M(v.$$.fragment,G),M(C.$$.fragment,G),M(I.$$.fragment,G),oe=!0)},o(G){P(p.$$.fragment,G),P(o.$$.fragment,G),P(v.$$.fragment,G),P(C.$$.fragment,G),P(I.$$.fragment,G),oe=!1},d(G){G&&c(e),H(p),H(o),H(v),H(C),H(I)}}}function ei(n,e,t){let{isFrontOffice:r=!0}=e;return n.$$set=s=>{"isFrontOffice"in s&&t(0,r=s.isFrontOffice)},[r]}class ti extends ae{constructor(e){super(),ie(this,e,ei,Xa,le,{isFrontOffice:0})}}function pn(n){let e,t;return e=new ti({}),{c(){T(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){D(e,r,s),t=!0},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function ri(n){let e,t,r,s,a=n[9].description+"",i,d;return t=new Yr({}),{c(){e=g("div"),T(t.$$.fragment),r=S(),s=g("span"),i=F(a),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=b(e);j(t.$$.fragment,p),r=L(p),s=_(p,"SPAN",{});var h=b(s);i=R(h,a),h.forEach(c),p.forEach(c),this.h()},h(){Be(s,"text-2xl",n[9].placement==="center-center"),l(e,"class","alert shadow-lg"),Be(e,"alert-error",n[9].type==="error"),Be(e,"alert-info",n[9].type==="info")},m(u,p){A(u,e,p),D(t,e,null),f(e,r),f(e,s),f(s,i),d=!0},p(u,p){(!d||p&512)&&a!==(a=u[9].description+"")&&Rt(i,a),(!d||p&512)&&Be(s,"text-2xl",u[9].placement==="center-center"),(!d||p&512)&&Be(e,"alert-error",u[9].type==="error"),(!d||p&512)&&Be(e,"alert-info",u[9].type==="info")},i(u){d||(M(t.$$.fragment,u),d=!0)},o(u){P(t.$$.fragment,u),d=!1},d(u){u&&c(e),H(t)}}}function si(n){let e,t,r,s,a,i,d,u,p=!["/marketsquare","/messages"].includes(n[0].url.pathname),h,m,o,$,w,v;t=new qa({}),a=new Qa({});const k=n[3].default,y=kn(k,n,n[4],null);let C=p&&pn();return m=new Vl({props:{$$slots:{default:[ri,({data:E})=>({9:E}),({data:E})=>E?512:0]},$$scope:{ctx:n}}}),w=new Kl({}),{c(){e=g("div"),T(t.$$.fragment),r=S(),s=g("div"),T(a.$$.fragment),i=S(),y&&y.c(),u=S(),C&&C.c(),h=S(),T(m.$$.fragment),$=S(),T(w.$$.fragment),this.h()},l(E){e=_(E,"DIV",{class:!0});var x=b(e);j(t.$$.fragment,x),r=L(x),s=_(x,"DIV",{class:!0});var I=b(s);j(a.$$.fragment,I),i=L(I),y&&y.l(I),I.forEach(c),u=L(x),C&&C.l(x),h=L(x),j(m.$$.fragment,x),x.forEach(c),$=L(E),j(w.$$.fragment,E),this.h()},h(){l(s,"class",d="mx-auto mb-6 min-h-[80%] "+(n[0].url.pathname==="/messages"?"h-full":"")+" "+(n[0].url.pathname==="/"?"w-screen":"w-11/12 md:w-10/12")),l(e,"class",o="h-screen pt-12 lg:pt-20 pb-20 "+(n[0].url.pathname==="/messages"?"":"mt-2"))},m(E,x){A(E,e,x),D(t,e,null),f(e,r),f(e,s),D(a,s,null),f(s,i),y&&y.m(s,null),f(e,u),C&&C.m(e,null),f(e,h),D(m,e,null),A(E,$,x),D(w,E,x),v=!0},p(E,[x]){y&&y.p&&(!v||x&16)&&$n(y,k,E,E[4],v?En(k,E[4],x,null):yn(E[4]),null),(!v||x&1&&d!==(d="mx-auto mb-6 min-h-[80%] "+(E[0].url.pathname==="/messages"?"h-full":"")+" "+(E[0].url.pathname==="/"?"w-screen":"w-11/12 md:w-10/12")))&&l(s,"class",d),x&1&&(p=!["/marketsquare","/messages"].includes(E[0].url.pathname)),p?C?x&1&&M(C,1):(C=pn(),C.c(),M(C,1),C.m(e,h)):C&&(Ee(),P(C,1,1,()=>{C=null}),xe());const I={};x&528&&(I.$$scope={dirty:x,ctx:E}),m.$set(I),(!v||x&1&&o!==(o="h-screen pt-12 lg:pt-20 pb-20 "+(E[0].url.pathname==="/messages"?"":"mt-2")))&&l(e,"class",o)},i(E){v||(M(t.$$.fragment,E),M(a.$$.fragment,E),M(y,E),M(C),M(m.$$.fragment,E),M(w.$$.fragment,E),v=!0)},o(E){P(t.$$.fragment,E),P(a.$$.fragment,E),P(y,E),P(C),P(m.$$.fragment,E),P(w.$$.fragment,E),v=!1},d(E){E&&(c(e),c($)),H(t),H(a),y&&y.d(E),C&&C.d(),H(m),H(w,E)}}}function ni(n,e,t){let r,s,a,i,d;X(n,Rr,o=>t(5,r=o)),X(n,st,o=>t(1,s=o)),X(n,Zr,o=>t(2,a=o)),X(n,Ps,o=>t(6,i=o)),X(n,Qr,o=>t(0,d=o));let{$$slots:u={},$$scope:p}=e;const h=Ss.subscribe(o=>{if(o){let $,w,v;typeof o=="string"?($=o,w=5e3,v=window.screen.availWidth>=1024?"top-center":"bottom-right"):($=o.message,w=o.duration,v=o.placement),pr.add({description:$,duration:w,placement:v,type:"info"}),Ss.set(null)}}),m=Ls.subscribe(o=>{o&&(pr.add({description:o,duration:4e3,placement:window.screen.availWidth>=1024?"top-center":"bottom-right",type:"error"}),Ls.set(null))});return Bt(()=>{kl(),$l()}),el(async()=>{m(),h(),await Kn()}),n.$$set=o=>{"$$scope"in o&&t(4,p=o.$$scope)},n.$$.update=()=>{if(n.$$.dirty&4&&a?.admin_pubkeys?.length>0){let o=0;Wn(a.admin_pubkeys,[Gn("site_specific_config")],($,w)=>{w>o&&(o=w,ce(Ps,i=$,i))})}n.$$.dirty&6&&s&&a?.admin_pubkeys?.includes(s)&&ce(Rr,r=!0,r)},[d,s,a,u,p]}class $i extends ae{constructor(e){super(),ie(this,e,ni,si,le,{})}}export{$i as component,wi as universal};
