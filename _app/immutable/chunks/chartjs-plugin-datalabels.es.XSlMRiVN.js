import{m as w,t as q,r as d,d as J,a as V,v as K,c as R,i as p,A as Z,P as Q,B as Y,e as tt,b as et}from"./chart.es.z6gn-Snz.js";/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var T=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),g={toTextLines:function(t){var o=[],e;for(t=[].concat(t);t.length;)e=t.pop(),typeof e=="string"?o.unshift.apply(o,e.split(`
`)):Array.isArray(e)?t.push.apply(t,e):p(t)||o.unshift(""+e);return o},textSize:function(t,o,e){var n=[].concat(o),r=n.length,i=t.font,a=0,l;for(t.font=e.string,l=0;l<r;++l)a=Math.max(t.measureText(n[l]).width,a);return t.font=i,{height:r*e.lineHeight,width:a}},bound:function(t,o,e){return Math.max(t,Math.min(o,e))},arrayDiff:function(t,o){var e=t.slice(),n=[],r,i,a,l;for(r=0,a=o.length;r<a;++r)l=o[r],i=e.indexOf(l),i===-1?n.push([l,1]):e.splice(i,1);for(r=0,a=e.length;r<a;++r)n.push([e[r],-1]);return n},rasterize:function(t){return Math.round(t*T)/T}};function A(t,o){var e=o.x,n=o.y;if(e===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var r=t.x-e,i=t.y-n,a=Math.sqrt(r*r+i*i);return{x:a?r/a:0,y:a?i/a:-1}}function nt(t,o,e,n,r){switch(r){case"center":e=n=0;break;case"bottom":e=0,n=1;break;case"right":e=1,n=0;break;case"left":e=-1,n=0;break;case"top":e=0,n=-1;break;case"start":e=-e,n=-n;break;case"end":break;default:r*=Math.PI/180,e=Math.cos(r),n=Math.sin(r);break}return{x:t,y:o,vx:e,vy:n}}var ot=0,N=1,O=2,H=4,U=8;function k(t,o,e){var n=ot;return t<e.left?n|=N:t>e.right&&(n|=O),o<e.top?n|=U:o>e.bottom&&(n|=H),n}function rt(t,o){for(var e=t.x0,n=t.y0,r=t.x1,i=t.y1,a=k(e,n,o),l=k(r,i,o),s,u,c;!(!(a|l)||a&l);)s=a||l,s&U?(u=e+(r-e)*(o.top-n)/(i-n),c=o.top):s&H?(u=e+(r-e)*(o.bottom-n)/(i-n),c=o.bottom):s&O?(c=n+(i-n)*(o.right-e)/(r-e),u=o.right):s&N&&(c=n+(i-n)*(o.left-e)/(r-e),u=o.left),s===a?(e=u,n=c,a=k(e,n,o)):(r=u,i=c,l=k(r,i,o));return{x0:e,x1:r,y0:n,y1:i}}function $(t,o){var e=o.anchor,n=t,r,i;return o.clamp&&(n=rt(n,o.area)),e==="start"?(r=n.x0,i=n.y0):e==="end"?(r=n.x1,i=n.y1):(r=(n.x0+n.x1)/2,i=(n.y0+n.y1)/2),nt(r,i,t.vx,t.vy,o.align)}var S={arc:function(t,o){var e=(t.startAngle+t.endAngle)/2,n=Math.cos(e),r=Math.sin(e),i=t.innerRadius,a=t.outerRadius;return $({x0:t.x+n*i,y0:t.y+r*i,x1:t.x+n*a,y1:t.y+r*a,vx:n,vy:r},o)},point:function(t,o){var e=A(t,o.origin),n=e.x*t.options.radius,r=e.y*t.options.radius;return $({x0:t.x-n,y0:t.y-r,x1:t.x+n,y1:t.y+r,vx:e.x,vy:e.y},o)},bar:function(t,o){var e=A(t,o.origin),n=t.x,r=t.y,i=0,a=0;return t.horizontal?(n=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),$({x0:n,y0:r+a,x1:n+i,y1:r,vx:e.x,vy:e.y},o)},fallback:function(t,o){var e=A(t,o.origin);return $({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:e.x,vy:e.y},o)}},y=g.rasterize;function it(t){var o=t.borderWidth||0,e=t.padding,n=t.size.height,r=t.size.width,i=-r/2,a=-n/2;return{frame:{x:i-e.left-o,y:a-e.top-o,w:r+e.width+o*2,h:n+e.height+o*2},text:{x:i,y:a,w:r,h:n}}}function at(t,o){var e=o.chart.getDatasetMeta(o.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var n=e.getBasePixel();return t.horizontal?{x:n,y:null}:{x:null,y:n}}function lt(t){return t instanceof Z?S.arc:t instanceof Q?S.point:t instanceof Y?S.bar:S.fallback}function st(t,o,e,n,r,i){var a=Math.PI/2;if(i){var l=Math.min(i,r/2,n/2),s=o+l,u=e+l,c=o+n-l,h=e+r-l;t.moveTo(o,u),s<c&&u<h?(t.arc(s,u,l,-Math.PI,-a),t.arc(c,u,l,-a,0),t.arc(c,h,l,0,a),t.arc(s,h,l,a,Math.PI)):s<c?(t.moveTo(s,e),t.arc(c,u,l,-a,a),t.arc(s,u,l,a,Math.PI+a)):u<h?(t.arc(s,u,l,-Math.PI,0),t.arc(s,h,l,0,Math.PI)):t.arc(s,u,l,-Math.PI,Math.PI),t.closePath(),t.moveTo(o,e)}else t.rect(o,e,n,r)}function ut(t,o,e){var n=e.backgroundColor,r=e.borderColor,i=e.borderWidth;!n&&(!r||!i)||(t.beginPath(),st(t,y(o.x)+i/2,y(o.y)+i/2,y(o.w)-i,y(o.h)-i,e.borderRadius),t.closePath(),n&&(t.fillStyle=n,t.fill()),r&&i&&(t.strokeStyle=r,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function ct(t,o,e){var n=e.lineHeight,r=t.w,i=t.x,a=t.y+n/2;return o==="center"?i+=r/2:(o==="end"||o==="right")&&(i+=r),{h:n,w:r,x:i,y:a}}function ht(t,o,e){var n=t.shadowBlur,r=e.stroked,i=y(e.x),a=y(e.y),l=y(e.w);r&&t.strokeText(o,i,a,l),e.filled&&(n&&r&&(t.shadowBlur=0),t.fillText(o,i,a,l),n&&r&&(t.shadowBlur=n))}function dt(t,o,e,n){var r=n.textAlign,i=n.color,a=!!i,l=n.font,s=o.length,u=n.textStrokeColor,c=n.textStrokeWidth,h=u&&c,x;if(!(!s||!a&&!h))for(e=ct(e,r,l),t.font=l.string,t.textAlign=r,t.textBaseline="middle",t.shadowBlur=n.textShadowBlur,t.shadowColor=n.textShadowColor,a&&(t.fillStyle=i),h&&(t.lineJoin="round",t.lineWidth=c,t.strokeStyle=u),x=0,s=o.length;x<s;++x)ht(t,o[x],{stroked:h,filled:a,w:e.w,x:e.x,y:e.y+e.h*x})}var j=function(t,o,e,n){var r=this;r._config=t,r._index=n,r._model=null,r._rects=null,r._ctx=o,r._el=e};w(j.prototype,{_modelize:function(t,o,e,n){var r=this,i=r._index,a=q(d([e.font,{}],n,i)),l=d([e.color,J.color],n,i);return{align:d([e.align,"center"],n,i),anchor:d([e.anchor,"center"],n,i),area:n.chart.chartArea,backgroundColor:d([e.backgroundColor,null],n,i),borderColor:d([e.borderColor,null],n,i),borderRadius:d([e.borderRadius,0],n,i),borderWidth:d([e.borderWidth,0],n,i),clamp:d([e.clamp,!1],n,i),clip:d([e.clip,!1],n,i),color:l,display:t,font:a,lines:o,offset:d([e.offset,4],n,i),opacity:d([e.opacity,1],n,i),origin:at(r._el,n),padding:V(d([e.padding,4],n,i)),positioner:lt(r._el),rotation:d([e.rotation,0],n,i)*(Math.PI/180),size:g.textSize(r._ctx,o,a),textAlign:d([e.textAlign,"start"],n,i),textShadowBlur:d([e.textShadowBlur,0],n,i),textShadowColor:d([e.textShadowColor,l],n,i),textStrokeColor:d([e.textStrokeColor,l],n,i),textStrokeWidth:d([e.textStrokeWidth,0],n,i)}},update:function(t){var o=this,e=null,n=null,r=o._index,i=o._config,a,l,s,u=d([i.display,!0],t,r);u&&(a=t.dataset.data[r],l=K(R(i.formatter,[a,t]),a),s=p(l)?[]:g.toTextLines(l),s.length&&(e=o._modelize(u,s,i,t),n=it(e))),o._model=e,o._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,o){var e=this,n=t.ctx,r=e._model,i=e._rects,a;this.visible()&&(n.save(),r.clip&&(a=r.area,n.beginPath(),n.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),n.clip()),n.globalAlpha=g.bound(0,r.opacity,1),n.translate(y(o.x),y(o.y)),n.rotate(r.rotation),ut(n,i.frame,r),dt(n,r.lines,i.text,r),n.restore())}});var ft=Number.MIN_SAFE_INTEGER||-9007199254740991,xt=Number.MAX_SAFE_INTEGER||9007199254740991;function b(t,o,e){var n=Math.cos(e),r=Math.sin(e),i=o.x,a=o.y;return{x:i+n*(t.x-i)-r*(t.y-a),y:a+r*(t.x-i)+n*(t.y-a)}}function W(t,o){var e=xt,n=ft,r=o.origin,i,a,l,s,u;for(i=0;i<t.length;++i)a=t[i],l=a.x-r.x,s=a.y-r.y,u=o.vx*l+o.vy*s,e=Math.min(e,u),n=Math.max(n,u);return{min:e,max:n}}function P(t,o){var e=o.x-t.x,n=o.y-t.y,r=Math.sqrt(e*e+n*n);return{vx:(o.x-t.x)/r,vy:(o.y-t.y)/r,origin:t,ln:r}}var F=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};w(F.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,o,e){this._rotation=e,this._rect={x:o.x+t.x,y:o.y+t.y,w:o.w,h:o.h}},contains:function(t){var o=this,e=1,n=o._rect;return t=b(t,o.center(),-o._rotation),!(t.x<n.x-e||t.y<n.y-e||t.x>n.x+n.w+e*2||t.y>n.y+n.h+e*2)},intersects:function(t){var o=this._points(),e=t._points(),n=[P(o[0],o[1]),P(o[0],o[3])],r,i,a;for(this._rotation!==t._rotation&&n.push(P(e[0],e[1]),P(e[0],e[3])),r=0;r<n.length;++r)if(i=W(o,n[r]),a=W(e,n[r]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var t=this,o=t._rect,e=t._rotation,n=t.center();return[b({x:o.x,y:o.y},n,e),b({x:o.x+o.w,y:o.y},n,e),b({x:o.x+o.w,y:o.y+o.h},n,e),b({x:o.x,y:o.y+o.h},n,e)]}});function G(t,o,e){var n=o.positioner(t,o),r=n.vx,i=n.vy;if(!r&&!i)return{x:n.x,y:n.y};var a=e.w,l=e.h,s=o.rotation,u=Math.abs(a/2*Math.cos(s))+Math.abs(l/2*Math.sin(s)),c=Math.abs(a/2*Math.sin(s))+Math.abs(l/2*Math.cos(s)),h=1/Math.max(Math.abs(r),Math.abs(i));return u*=r*h,c*=i*h,u+=o.offset*r,c+=o.offset*i,{x:n.x+u,y:n.y+c}}function yt(t,o){var e,n,r,i;for(e=t.length-1;e>=0;--e)for(r=t[e].$layout,n=e-1;n>=0&&r._visible;--n)i=t[n].$layout,i._visible&&r._box.intersects(i._box)&&o(r,i);return t}function vt(t){var o,e,n,r,i,a,l;for(o=0,e=t.length;o<e;++o)n=t[o],r=n.$layout,r._visible&&(l=new Proxy(n._el,{get:(s,u)=>s.getProps([u],!0)[u]}),i=n.geometry(),a=G(l,n.model(),i),r._box.update(a,i,n.rotation()));return yt(t,function(s,u){var c=s._hidable,h=u._hidable;c&&h||h?u._visible=!1:c&&(s._visible=!1)})}var m={prepare:function(t){var o=[],e,n,r,i,a;for(e=0,r=t.length;e<r;++e)for(n=0,i=t[e].length;n<i;++n)a=t[e][n],o.push(a),a.$layout={_box:new F,_hidable:!1,_visible:!0,_set:e,_idx:a._index};return o.sort(function(l,s){var u=l.$layout,c=s.$layout;return u._idx===c._idx?c._set-u._set:c._idx-u._idx}),this.update(o),o},update:function(t){var o=!1,e,n,r,i,a;for(e=0,n=t.length;e<n;++e)r=t[e],i=r.model(),a=r.$layout,a._hidable=i&&i.display==="auto",a._visible=r.visible(),o|=a._hidable;o&&vt(t)},lookup:function(t,o){var e,n;for(e=t.length-1;e>=0;--e)if(n=t[e].$layout,n&&n._visible&&n._box.contains(o))return t[e];return null},draw:function(t,o){var e,n,r,i,a,l;for(e=0,n=o.length;e<n;++e)r=o[e],i=r.$layout,i._visible&&(a=r.geometry(),l=G(r._el,r.model(),a),i._box.update(l,a,r.rotation()),r.draw(t,l))}},_t=function(t){if(p(t))return null;var o=t,e,n,r;if(et(t))if(!p(t.label))o=t.label;else if(!p(t.r))o=t.r;else for(o="",e=Object.keys(t),r=0,n=e.length;r<n;++r)o+=(r!==0?", ":"")+e[r]+": "+t[e[r]];return""+o},bt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:_t,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},f="$datalabels",L="$default";function pt(t,o){var e=t.datalabels,n={},r=[],i,a;return e===!1?null:(e===!0&&(e={}),o=w({},[o,e]),i=o.labels||{},a=Object.keys(i),delete o.labels,a.length?a.forEach(function(l){i[l]&&r.push(w({},[o,i[l],{_key:l}]))}):r.push(o),n=r.reduce(function(l,s){return tt(s.listeners||{},function(u,c){l[c]=l[c]||{},l[c][s._key||L]=u}),delete s.listeners,l},{}),{labels:r,listeners:n})}function z(t,o,e,n){if(o){var r=e.$context,i=e.$groups,a;o[i._set]&&(a=o[i._set][i._key],a&&R(a,[r,n])===!0&&(t[f]._dirty=!0,e.update(r)))}}function gt(t,o,e,n,r){var i,a;!e&&!n||(e?n?e!==n&&(a=i=!0):a=!0:i=!0,a&&z(t,o.leave,e,r),i&&z(t,o.enter,n,r))}function mt(t,o){var e=t[f],n=e._listeners,r,i;if(!(!n.enter&&!n.leave)){if(o.type==="mousemove")i=m.lookup(e._labels,o);else if(o.type!=="mouseout")return;r=e._hovered,e._hovered=i,gt(t,n,r,i,o)}}function wt(t,o){var e=t[f],n=e._listeners.click,r=n&&m.lookup(e._labels,o);r&&z(t,n,r,o)}var kt={id:"datalabels",defaults:bt,beforeInit:function(t){t[f]={_actives:[]}},beforeUpdate:function(t){var o=t[f];o._listened=!1,o._listeners={},o._datasets=[],o._labels=[]},afterDatasetUpdate:function(t,o,e){var n=o.index,r=t[f],i=r._datasets[n]=[],a=t.isDatasetVisible(n),l=t.data.datasets[n],s=pt(l,e),u=o.meta.data||[],c=t.ctx,h,x,B,D,I,E,_,v;for(c.save(),h=0,B=u.length;h<B;++h)if(_=u[h],_[f]=[],a&&_&&t.getDataVisibility(h)&&!_.skip)for(x=0,D=s.labels.length;x<D;++x)I=s.labels[x],E=I._key,v=new j(I,c,_,h),v.$groups={_set:n,_key:E||L},v.$context={active:!1,chart:t,dataIndex:h,dataset:l,datasetIndex:n},v.update(v.$context),_[f].push(v),i.push(v);c.restore(),w(r._listeners,s.listeners,{merger:function(M,C,X){C[M]=C[M]||{},C[M][o.index]=X[M],r._listened=!0}})},afterUpdate:function(t){t[f]._labels=m.prepare(t[f]._datasets)},afterDatasetsDraw:function(t){m.draw(t,t[f]._labels)},beforeEvent:function(t,o){if(t[f]._listened){var e=o.event;switch(e.type){case"mousemove":case"mouseout":mt(t,e);break;case"click":wt(t,e);break}}},afterEvent:function(t){var o=t[f],e=o._actives,n=o._actives=t.getActiveElements(),r=g.arrayDiff(e,n),i,a,l,s,u,c,h;for(i=0,a=r.length;i<a;++i)if(u=r[i],u[1])for(h=u[0].element[f]||[],l=0,s=h.length;l<s;++l)c=h[l],c.$context.active=u[1]===1,c.update(c.$context);(o._dirty||r.length)&&(m.update(o._labels),t.render()),delete o._dirty}};export{kt as default};
